---
title: "Worksheet for Day 5 - building workflows"
author: "YOUR NAME HERE"
date: "`r Sys.Date()`"
output:
    html_document:
        theme: journal
#    slidy_presentation:
#        theme: default
---

This worksheet was created by [darachm](https://github.com/darachm) and
[Samson](https://github.com/samson920) with a [Creative Commons
Attribution-NonCommercial-ShareAlike 4.0
License](https://github.com/darachm/dll-r/blob/main/LICENSE.md).

# Instructions for this Worksheet

Write your code and/or your response underneath each task prompt. To render
your worksheet, click on the Knit button in Rstudio, or run the 
`render` function directly from your R console: 

```{r,renderdoc,eval=F}
rmarkdown::render("dll-r_Day5_Lab.Rmd")
```

_( Don't understand what this is doing? Bring that up when we get to the
rmarkdown and package sections! )_

Be sure that your code is
able to execute completely and that the result you expect is shown in the
resulting html file.

------

# Day 5, Section 4 - workflows etc.

## 4.1 exercises

### (1) Organize yesterday's work 

Work together. 
Take your work from yesterday, the tidyverse plots.
Organize it into a separate project directory, maybe called something like
`tidyverse-demo`. 
Include the Rmd scripts in an appropriate directory (`scripts`?),
the data in the `data` directory.
Write the Rmd so you can generate your whole report
by running `render` (in Console or via the 'Knit' button).

CAUTION: reading or writing files may not work! Instead of using something
like:

```{r,indemo,eval=F}
read.csv("that_file.csv")
```

you may have to look "up" and "over" (remember from day1/2?), like so:

```{r,indemo2,eval=F}
read.csv("../data/that_file.csv")
```

and for writing plots into an output directory:

```{r,outdemo,eval=F}
png("../outputs/that.png")
# plotz
dev.off()
```

**Optional**

Consider making your rmarkdown file more fancy.
Go ahead and change the time, some of the options in the header.
Maybe a theme, maybe
<marquee style="display:block;width:50%;">add some HTML tags to modify your rmarkdown file,</marquee> 
because it's all turned into HTML anyways!

When you're done, share any new tricks or useful ideas in the slack channel,
or in your groups.

### (2) Discuss your organization styles

In your group, discuss how you organize your work, 
and what you think would be useful or not useful.

How do you usually save notes/code/instructions?

How do you share this with others?

What are some disadvantages to this system?
Can you work around those?

How do you leave instructions for future users?

### (3) **OPTIONAL** Discuss your organizational plan with your supervisor!

Consider asking your supervisor about organization before you start.

Where does the data live? Where is going to be archived for future users?

What will you be expected to share? In what formats, written reports or 
presentations, slide decks?

## Section 4.2: 

Loops to read many files

##### Section 4.2.1: Reading in one file

**Task A:** ???

```{r}
# Your code here
```

*Your response here*

#### End of Class Summary

Now is an opportunity for you to put together everything that you've learned to
start asking questions about data. There are a few datasets listed below, along
with questions about the data. First, design some analyses you can do to answer
the question. Some examples might be comparing the means between certain
populations, plotting the distribution of a variable (or multiple variables),
or . For all of these datasets, make sure to explore the data a little bit with
commands like head() and tail() before jumping into your analysis so you're
familiar with the data.

**Iris Dataset**

You can load this dataset with `data(iris)`

What variable is most useful for distinguishing between species?

What species has the biggest variability in flower size?



**Alzheimer's Microarray Analysis**

These data are originally from
https://www.kaggle.com/andrewgao/alzheimer-microarray-analysis. You can
download them from https://github.com/darachm/dll-r/tree/main/data

What gene is most associated with Alzheimer's disease (based on the unadjusted
p-value)?

How many genes have unadjusted p-values less than 0.05?

Do some reading on p-values. Why do you think the adjusted p-value is included
in the data?


**Mortality Data**

The CDC tracks data on mortality in the United States. We have downloaded a
dataset on mortality by state, by week across a few years. You can download the
data from https://github.com/darachm/dll-r/tree/main/data, though the data were
originally from
https://www.kaggle.com/codebreaker619/usa-weekly-counts-of-deaths-by-state-and-causes.

What state has the highest number of deaths per year based on the data reported
here? Do you think this is a fair way to look at the data? What can you do to
help make the analysis more fair across states if you wanted to understand
which states had the highest death rates?

What cause of death has increased the most from 2014 to 2018? Which has
decreased?

What week (based on the MMWR week column) generally has the highest mortality?


