<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.3 Essential tidyverse functions | DLL 2021, R section</title>
  <meta name="description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="3.3 Essential tidyverse functions | DLL 2021, R section" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  <meta name="github-repo" content="darachm/dll-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.3 Essential tidyverse functions | DLL 2021, R section" />
  
  <meta name="twitter:description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  

<meta name="author" content="mesako" />
<meta name="author" content="Margaret" />
<meta name="author" content="Samson" />
<meta name="author" content="Zac" />
<meta name="author" content="darachm" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="using-tidyverse.html"/>
<link rel="next" href="using-tidyverse-1.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DLL 2021 R workshops</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Workshop Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="workshop-goals.html"><a href="workshop-goals.html"><i class="fa fa-check"></i><b>1.1</b> Workshop goals</a></li>
<li class="chapter" data-level="1.2" data-path="structure-and-resources.html"><a href="structure-and-resources.html"><i class="fa fa-check"></i><b>1.2</b> Structure and resources</a><ul>
<li class="chapter" data-level="1.2.1" data-path="structure-and-resources.html"><a href="structure-and-resources.html#workshop-schedule"><i class="fa fa-check"></i><b>1.2.1</b> Workshop schedule</a></li>
<li class="chapter" data-level="1.2.2" data-path="structure-and-resources.html"><a href="structure-and-resources.html#this-syllabus-and-videos"><i class="fa fa-check"></i><b>1.2.2</b> This syllabus and videos</a></li>
<li class="chapter" data-level="1.2.3" data-path="structure-and-resources.html"><a href="structure-and-resources.html#slack-channel"><i class="fa fa-check"></i><b>1.2.3</b> Slack channel</a></li>
<li class="chapter" data-level="1.2.4" data-path="structure-and-resources.html"><a href="structure-and-resources.html#synchronous-sessions"><i class="fa fa-check"></i><b>1.2.4</b> Synchronous sessions</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="workshop-expectations.html"><a href="workshop-expectations.html"><i class="fa fa-check"></i><b>1.3</b> Workshop expectations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Day 3 - intoduction to R</a><ul>
<li class="chapter" data-level="2.1" data-path="using-rstudio.html"><a href="using-rstudio.html"><i class="fa fa-check"></i><b>2.1</b> Using RStudio</a><ul>
<li class="chapter" data-level="2.1.1" data-path="using-rstudio.html"><a href="using-rstudio.html#r-scripts-in-rstudio"><i class="fa fa-check"></i><b>2.1.1</b> R Scripts in RStudio</a></li>
<li class="chapter" data-level="2.1.2" data-path="using-rstudio.html"><a href="using-rstudio.html#console-and-terminal"><i class="fa fa-check"></i><b>2.1.2</b> Console and Terminal</a></li>
<li class="chapter" data-level="2.1.3" data-path="using-rstudio.html"><a href="using-rstudio.html#environment-and-history"><i class="fa fa-check"></i><b>2.1.3</b> Environment and History</a></li>
<li class="chapter" data-level="2.1.4" data-path="using-rstudio.html"><a href="using-rstudio.html#files-plots-and-packages"><i class="fa fa-check"></i><b>2.1.4</b> Files, Plots, and Packages</a></li>
<li class="chapter" data-level="2.1.5" data-path="using-rstudio.html"><a href="using-rstudio.html#putting-it-all-together"><i class="fa fa-check"></i><b>2.1.5</b> Putting It All Together</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="using-rmds.html"><a href="using-rmds.html"><i class="fa fa-check"></i><b>2.2</b> Using Rmds</a><ul>
<li class="chapter" data-level="2.2.1" data-path="using-rmds.html"><a href="using-rmds.html#basic-structure"><i class="fa fa-check"></i><b>2.2.1</b> Basic Structure</a></li>
<li class="chapter" data-level="2.2.2" data-path="using-rmds.html"><a href="using-rmds.html#overview-of-markdown"><i class="fa fa-check"></i><b>2.2.2</b> Overview of Markdown</a></li>
<li class="chapter" data-level="2.2.3" data-path="using-rmds.html"><a href="using-rmds.html#overview-of-how-to-write-an-r-chunk"><i class="fa fa-check"></i><b>2.2.3</b> Overview of how to write an R chunk</a></li>
<li class="chapter" data-level="2.2.4" data-path="using-rmds.html"><a href="using-rmds.html#final-thoughts"><i class="fa fa-check"></i><b>2.2.4</b> Final Thoughts</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html"><i class="fa fa-check"></i><b>2.3</b> Getting started in R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#getting-help-in-r"><i class="fa fa-check"></i><b>2.3.1</b> Getting help in R</a></li>
<li class="chapter" data-level="2.3.2" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#using-variables-and-data-types"><i class="fa fa-check"></i><b>2.3.2</b> Using variables and data types</a></li>
<li class="chapter" data-level="2.3.3" data-path="getting-started-in-r.html"><a href="getting-started-in-r.html#using-functions"><i class="fa fa-check"></i><b>2.3.3</b> Using functions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="working-with-vectors.html"><a href="working-with-vectors.html"><i class="fa fa-check"></i><b>2.4</b> Working with vectors</a><ul>
<li class="chapter" data-level="2.4.1" data-path="working-with-vectors.html"><a href="working-with-vectors.html#building-vectors"><i class="fa fa-check"></i><b>2.4.1</b> Building vectors</a></li>
<li class="chapter" data-level="2.4.2" data-path="working-with-vectors.html"><a href="working-with-vectors.html#indexing-and-subsetting-vectors"><i class="fa fa-check"></i><b>2.4.2</b> Indexing and subsetting vectors</a></li>
<li class="chapter" data-level="2.4.3" data-path="working-with-vectors.html"><a href="working-with-vectors.html#using-logic-and-logicals"><i class="fa fa-check"></i><b>2.4.3</b> Using logic and logicals</a></li>
<li class="chapter" data-level="2.4.4" data-path="working-with-vectors.html"><a href="working-with-vectors.html#modifying-vectors"><i class="fa fa-check"></i><b>2.4.4</b> Modifying vectors</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html"><i class="fa fa-check"></i><b>2.5</b> Working with dataframes</a><ul>
<li class="chapter" data-level="2.5.1" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#indexing-and-subsetting-dataframes"><i class="fa fa-check"></i><b>2.5.1</b> Indexing and subsetting dataframes</a></li>
<li class="chapter" data-level="2.5.2" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#exploring-dataframes"><i class="fa fa-check"></i><b>2.5.2</b> Exploring dataframes</a></li>
<li class="chapter" data-level="2.5.3" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#building-and-modifying-dataframes"><i class="fa fa-check"></i><b>2.5.3</b> Building and modifying dataframes</a></li>
<li class="chapter" data-level="2.5.4" data-path="working-with-dataframes.html"><a href="working-with-dataframes.html#handling-datatypes-in-dataframes"><i class="fa fa-check"></i><b>2.5.4</b> Handling datatypes in dataframes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="day-4-tidyverse-and-visualizations.html"><a href="day-4-tidyverse-and-visualizations.html"><i class="fa fa-check"></i><b>3</b> Day 4 - tidyverse and visualizations</a><ul>
<li class="chapter" data-level="3.1" data-path="reading-and-processing-data.html"><a href="reading-and-processing-data.html"><i class="fa fa-check"></i><b>3.1</b> Reading and processing data</a><ul>
<li class="chapter" data-level="3.1.1" data-path="reading-and-processing-data.html"><a href="reading-and-processing-data.html#loading-a-file-into-r"><i class="fa fa-check"></i><b>3.1.1</b> Loading a file into R</a></li>
<li class="chapter" data-level="3.1.2" data-path="reading-and-processing-data.html"><a href="reading-and-processing-data.html#handling-issues-in-data"><i class="fa fa-check"></i><b>3.1.2</b> Handling issues in data</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="using-tidyverse.html"><a href="using-tidyverse.html"><i class="fa fa-check"></i><b>3.2</b> Using tidyverse</a><ul>
<li class="chapter" data-level="3.2.1" data-path="using-tidyverse.html"><a href="using-tidyverse.html#goals-to-be-reworked-alongside-content"><i class="fa fa-check"></i><b>3.2.1</b> Goals to be reworked alongside content</a></li>
<li class="chapter" data-level="3.2.2" data-path="using-tidyverse.html"><a href="using-tidyverse.html#welcome-to-the-tidyverse"><i class="fa fa-check"></i><b>3.2.2</b> Welcome to the tidyverse!</a></li>
<li class="chapter" data-level="3.2.3" data-path="using-tidyverse.html"><a href="using-tidyverse.html#lets-start-by-making-sure-tidyverse-is-installed"><i class="fa fa-check"></i><b>3.2.3</b> Let’s start by making sure Tidyverse is installed</a></li>
<li class="chapter" data-level="3.2.4" data-path="using-tidyverse.html"><a href="using-tidyverse.html#try-tidyverse-on-the-iris-dataset-we-loaded-in-the-previous-section"><i class="fa fa-check"></i><b>3.2.4</b> Try tidyverse on the iris dataset we loaded in the previous section</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="essential-tidyverse-functions.html"><a href="essential-tidyverse-functions.html"><i class="fa fa-check"></i><b>3.3</b> Essential tidyverse functions</a><ul>
<li class="chapter" data-level="3.3.1" data-path="essential-tidyverse-functions.html"><a href="essential-tidyverse-functions.html#filtering-dataframes"><i class="fa fa-check"></i><b>3.3.1</b> Filtering dataframes</a></li>
<li class="chapter" data-level="3.3.2" data-path="essential-tidyverse-functions.html"><a href="essential-tidyverse-functions.html#creating-new-variables"><i class="fa fa-check"></i><b>3.3.2</b> Creating new variables</a></li>
<li class="chapter" data-level="3.3.3" data-path="essential-tidyverse-functions.html"><a href="essential-tidyverse-functions.html#summarizing-data"><i class="fa fa-check"></i><b>3.3.3</b> Summarizing data</a></li>
<li class="chapter" data-level="3.3.4" data-path="essential-tidyverse-functions.html"><a href="essential-tidyverse-functions.html#updating-fields-based-on-a-condition"><i class="fa fa-check"></i><b>3.3.4</b> Updating fields based on a condition</a></li>
<li class="chapter" data-level="3.3.5" data-path="essential-tidyverse-functions.html"><a href="essential-tidyverse-functions.html#reshaping-data-long-and-wide"><i class="fa fa-check"></i><b>3.3.5</b> Reshaping data: long and wide</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="using-tidyverse-1.html"><a href="using-tidyverse-1.html"><i class="fa fa-check"></i><b>3.4</b> Using tidyverse</a></li>
<li class="chapter" data-level="3.5" data-path="making-plots-with-ggplot2.html"><a href="making-plots-with-ggplot2.html"><i class="fa fa-check"></i><b>3.5</b> Making plots with ggplot2</a><ul>
<li class="chapter" data-level="3.5.1" data-path="making-plots-with-ggplot2.html"><a href="making-plots-with-ggplot2.html#getting-started-with-a-ggplot"><i class="fa fa-check"></i><b>3.5.1</b> Getting started with a ggplot</a></li>
<li class="chapter" data-level="3.5.2" data-path="making-plots-with-ggplot2.html"><a href="making-plots-with-ggplot2.html#changing-plot-aesthetics"><i class="fa fa-check"></i><b>3.5.2</b> Changing plot aesthetics</a></li>
<li class="chapter" data-level="3.5.3" data-path="making-plots-with-ggplot2.html"><a href="making-plots-with-ggplot2.html#exploring-simple-plots"><i class="fa fa-check"></i><b>3.5.3</b> Exploring simple plots</a></li>
<li class="chapter" data-level="3.5.4" data-path="making-plots-with-ggplot2.html"><a href="making-plots-with-ggplot2.html#visualizing-between-groups"><i class="fa fa-check"></i><b>3.5.4</b> Visualizing between groups</a></li>
<li class="chapter" data-level="3.5.5" data-path="making-plots-with-ggplot2.html"><a href="making-plots-with-ggplot2.html#generating-heatmaps"><i class="fa fa-check"></i><b>3.5.5</b> Generating heatmaps</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="making-scientific-figures.html"><a href="making-scientific-figures.html"><i class="fa fa-check"></i><b>3.6</b> Making scientific figures</a><ul>
<li class="chapter" data-level="3.6.1" data-path="making-scientific-figures.html"><a href="making-scientific-figures.html#plotting-error-bars"><i class="fa fa-check"></i><b>3.6.1</b> Plotting error bars</a></li>
<li class="chapter" data-level="3.6.2" data-path="making-scientific-figures.html"><a href="making-scientific-figures.html#showing-trends-in-data"><i class="fa fa-check"></i><b>3.6.2</b> Showing trends in data</a></li>
<li class="chapter" data-level="3.6.3" data-path="making-scientific-figures.html"><a href="making-scientific-figures.html#saving-figures-locally"><i class="fa fa-check"></i><b>3.6.3</b> Saving figures locally</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="applying-basic-stats.html"><a href="applying-basic-stats.html"><i class="fa fa-check"></i><b>3.7</b> Applying basic stats</a><ul>
<li class="chapter" data-level="3.7.1" data-path="applying-basic-stats.html"><a href="applying-basic-stats.html#describing-quantitative-variables"><i class="fa fa-check"></i><b>3.7.1</b> Describing quantitative variables</a></li>
<li class="chapter" data-level="3.7.2" data-path="applying-basic-stats.html"><a href="applying-basic-stats.html#finding-differences-in-data"><i class="fa fa-check"></i><b>3.7.2</b> Finding differences in data</a></li>
<li class="chapter" data-level="3.7.3" data-path="applying-basic-stats.html"><a href="applying-basic-stats.html#identifying-correlations"><i class="fa fa-check"></i><b>3.7.3</b> Identifying correlations</a></li>
<li class="chapter" data-level="3.7.4" data-path="applying-basic-stats.html"><a href="applying-basic-stats.html#producing-linear-models"><i class="fa fa-check"></i><b>3.7.4</b> Producing linear models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="day-5-building-workflows-loops-using-packages-and-finding-help-in-new-areas.html"><a href="day-5-building-workflows-loops-using-packages-and-finding-help-in-new-areas.html"><i class="fa fa-check"></i><b>4</b> Day 5 - building workflows, loops, using packages, and finding help in new areas</a><ul>
<li class="chapter" data-level="4.1" data-path="what-is-a-workflow.html"><a href="what-is-a-workflow.html"><i class="fa fa-check"></i><b>4.1</b> What is a workflow?</a><ul>
<li class="chapter" data-level="4.1.1" data-path="what-is-a-workflow.html"><a href="what-is-a-workflow.html#organizing-files"><i class="fa fa-check"></i><b>4.1.1</b> Organizing files</a></li>
<li class="chapter" data-level="4.1.2" data-path="what-is-a-workflow.html"><a href="what-is-a-workflow.html#use-a-notebook-to-generate-reports"><i class="fa fa-check"></i><b>4.1.2</b> Use a notebook to generate reports</a></li>
<li class="chapter" data-level="4.1.3" data-path="what-is-a-workflow.html"><a href="what-is-a-workflow.html#sharing-with-others"><i class="fa fa-check"></i><b>4.1.3</b> Sharing with others</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="analyzing-viral-protein-sequences.html"><a href="analyzing-viral-protein-sequences.html"><i class="fa fa-check"></i><b>4.2</b> Analyzing viral protein sequences</a><ul>
<li class="chapter" data-level="4.2.1" data-path="analyzing-viral-protein-sequences.html"><a href="analyzing-viral-protein-sequences.html#reading-in-tab-delimited-file"><i class="fa fa-check"></i><b>4.2.1</b> Reading in tab-delimited file</a></li>
<li class="chapter" data-level="4.2.2" data-path="analyzing-viral-protein-sequences.html"><a href="analyzing-viral-protein-sequences.html#loops---doing-a-similar-task-multiple-times"><i class="fa fa-check"></i><b>4.2.2</b> Loops - doing a similar task multiple times</a></li>
<li class="chapter" data-level="4.2.3" data-path="analyzing-viral-protein-sequences.html"><a href="analyzing-viral-protein-sequences.html#extending-the-workflow"><i class="fa fa-check"></i><b>4.2.3</b> Extending the workflow</a></li>
<li class="chapter" data-level="4.2.4" data-path="analyzing-viral-protein-sequences.html"><a href="analyzing-viral-protein-sequences.html#some-operations-on-strings"><i class="fa fa-check"></i><b>4.2.4</b> Some operations on strings</a></li>
<li class="chapter" data-level="4.2.5" data-path="analyzing-viral-protein-sequences.html"><a href="analyzing-viral-protein-sequences.html#back-to-the-motifs"><i class="fa fa-check"></i><b>4.2.5</b> Back to the motifs</a></li>
<li class="chapter" data-level="4.2.6" data-path="analyzing-viral-protein-sequences.html"><a href="analyzing-viral-protein-sequences.html#conclusion"><i class="fa fa-check"></i><b>4.2.6</b> Conclusion</a></li>
<li class="chapter" data-level="4.2.7" data-path="analyzing-viral-protein-sequences.html"><a href="analyzing-viral-protein-sequences.html#extra-extra."><i class="fa fa-check"></i><b>4.2.7</b> Extra extra….</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="packages-install-and-use.html"><a href="packages-install-and-use.html"><i class="fa fa-check"></i><b>4.3</b> Packages - install and use</a><ul>
<li class="chapter" data-level="4.3.1" data-path="packages-install-and-use.html"><a href="packages-install-and-use.html#cran-is-the-canonical-r-package-resource"><i class="fa fa-check"></i><b>4.3.1</b> CRAN is the canonical R package resource</a></li>
<li class="chapter" data-level="4.3.2" data-path="packages-install-and-use.html"><a href="packages-install-and-use.html#using-packages-without-library-ing-them"><i class="fa fa-check"></i><b>4.3.2</b> Using packages without <code>library()</code>-ing them</a></li>
<li class="chapter" data-level="4.3.3" data-path="packages-install-and-use.html"><a href="packages-install-and-use.html#github-is-a-common-place-for-sharing-packges-in-development"><i class="fa fa-check"></i><b>4.3.3</b> Github is a common place for sharing packges in development</a></li>
<li class="chapter" data-level="4.3.4" data-path="packages-install-and-use.html"><a href="packages-install-and-use.html#bioconductor-is-a-great-place-for-bio-related-packages"><i class="fa fa-check"></i><b>4.3.4</b> Bioconductor is a great place for bio-related packages</a></li>
<li class="chapter" data-level="4.3.5" data-path="packages-install-and-use.html"><a href="packages-install-and-use.html#what-packages-do-you-have-already"><i class="fa fa-check"></i><b>4.3.5</b> What packages do you have already?</a></li>
<li class="chapter" data-level="4.3.6" data-path="packages-install-and-use.html"><a href="packages-install-and-use.html#major-problems-with-package-installations"><i class="fa fa-check"></i><b>4.3.6</b> Major problems with package installations</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="getting-help-troubleshooting.html"><a href="getting-help-troubleshooting.html"><i class="fa fa-check"></i><b>4.4</b> Getting help - troubleshooting</a><ul>
<li class="chapter" data-level="4.4.1" data-path="getting-help-troubleshooting.html"><a href="getting-help-troubleshooting.html#where-to-start-general-help"><i class="fa fa-check"></i><b>4.4.1</b> Where to start? General help</a></li>
<li class="chapter" data-level="4.4.2" data-path="getting-help-troubleshooting.html"><a href="getting-help-troubleshooting.html#debugging-specific-problems"><i class="fa fa-check"></i><b>4.4.2</b> Debugging specific problems</a></li>
<li class="chapter" data-level="4.4.3" data-path="getting-help-troubleshooting.html"><a href="getting-help-troubleshooting.html#minimal-reproducible-examples"><i class="fa fa-check"></i><b>4.4.3</b> Minimal reproducible examples</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="writing-reusable-code.html"><a href="writing-reusable-code.html"><i class="fa fa-check"></i><b>4.5</b> Writing (re)usable code</a><ul>
<li class="chapter" data-level="4.5.1" data-path="writing-reusable-code.html"><a href="writing-reusable-code.html#functions-as-modular-steps"><i class="fa fa-check"></i><b>4.5.1</b> Functions as modular steps</a></li>
<li class="chapter" data-level="4.5.2" data-path="writing-reusable-code.html"><a href="writing-reusable-code.html#tips-for-modular-workflows"><i class="fa fa-check"></i><b>4.5.2</b> Tips for modular workflows</a></li>
<li class="chapter" data-level="4.5.3" data-path="writing-reusable-code.html"><a href="writing-reusable-code.html#apply-is-a-popular-tool"><i class="fa fa-check"></i><b>4.5.3</b> Apply is a popular tool</a></li>
<li class="chapter" data-level="4.5.4" data-path="writing-reusable-code.html"><a href="writing-reusable-code.html#learn-from-examples"><i class="fa fa-check"></i><b>4.5.4</b> Learn from examples</a></li>
<li class="chapter" data-level="4.5.5" data-path="writing-reusable-code.html"><a href="writing-reusable-code.html#style-guides-can-be-inspiring"><i class="fa fa-check"></i><b>4.5.5</b> Style guides can be inspiring</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="conclusion-1.html"><a href="conclusion-1.html"><i class="fa fa-check"></i><b>4.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>5</b> Appendix</a><ul>
<li class="chapter" data-level="5.1" data-path="additional-tutorials.html"><a href="additional-tutorials.html"><i class="fa fa-check"></i><b>5.1</b> Additional tutorials</a><ul>
<li class="chapter" data-level="5.1.1" data-path="additional-tutorials.html"><a href="additional-tutorials.html#sub-sub-section"><i class="fa fa-check"></i><b>5.1.1</b> sub sub section</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="more-challenges.html"><a href="more-challenges.html"><i class="fa fa-check"></i><b>5.2</b> More challenges</a></li>
<li class="chapter" data-level="5.3" data-path="figures-ideas.html"><a href="figures-ideas.html"><i class="fa fa-check"></i><b>5.3</b> Figures ideas</a></li>
<li class="chapter" data-level="5.4" data-path="rmd-example-of-code-chunk.html"><a href="rmd-example-of-code-chunk.html"><i class="fa fa-check"></i><b>5.4</b> Rmd example of code chunk</a></li>
<li class="chapter" data-level="5.5" data-path="more-example-rmds.html"><a href="more-example-rmds.html"><i class="fa fa-check"></i><b>5.5</b> More example Rmds</a></li>
<li class="chapter" data-level="5.6" data-path="how-to-edit-this-document.html"><a href="how-to-edit-this-document.html"><i class="fa fa-check"></i><b>5.6</b> How to edit this document</a><ul>
<li class="chapter" data-level="5.6.1" data-path="how-to-edit-this-document.html"><a href="how-to-edit-this-document.html#setup"><i class="fa fa-check"></i><b>5.6.1</b> Setup</a></li>
<li class="chapter" data-level="5.6.2" data-path="how-to-edit-this-document.html"><a href="how-to-edit-this-document.html#editwork-on-it"><i class="fa fa-check"></i><b>5.6.2</b> Edit/work on it</a></li>
<li class="chapter" data-level="5.6.3" data-path="how-to-edit-this-document.html"><a href="how-to-edit-this-document.html#publishing-onto-the-main-page-so-its-hosted-at-the-url"><i class="fa fa-check"></i><b>5.6.3</b> Publishing onto the main page, so it’s hosted at the URL</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="more-links.html"><a href="more-links.html"><i class="fa fa-check"></i><b>5.7</b> More links</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DLL 2021, R section</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="essential-tidyverse-functions" class="section level2">
<h2><span class="header-section-number">3.3</span> Essential tidyverse functions</h2>
<p>Let’s start with the essential functions of <code>tidyverse</code>. All of these are from the sub-package <a href="https://dplyr.tidyverse.org">dplyr</a></p>
<p><code>select()</code>: subset columns
<code>filter()</code>: subset rows on conditions
<code>arrange()</code>: sort results
<code>mutate()</code>: create new columns by using information from other columns
<code>group_by()</code> and <code>summarize()</code>: create summary statistics on grouped data
<code>count()</code>: count discrete values</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" title="1"><span class="co"># Let&#39;s select just the location </span></a>
<a class="sourceLine" id="cb220-2" title="2"><span class="kw">select</span>(irisz, Location)</a></code></pre></div>
<pre><code>##     Location
## 1      Korea
## 2      China
## 3      Korea
## 4      China
## 5      China
## 6     Canada
## 7      China
## 8      China
## 9     Russia
## 10     Japan
## 11    Russia
## 12    Canada
## 13     Korea
## 14    Russia
## 15    Canada
## 16    Canada
## 17     Korea
## 18     Korea
## 19     Japan
## 20     Korea
## 21    Russia
## 22     Korea
## 23     Japan
## 24     Japan
## 25    Russia
## 26    Russia
## 27     Japan
## 28    Russia
## 29     Japan
## 30    Canada
## 31    Canada
## 32    Canada
## 33    Russia
## 34    Russia
## 35    Russia
## 36    Russia
## 37     Korea
## 38     Japan
## 39     Korea
## 40     Japan
## 41     Japan
## 42     Japan
## 43     Japan
## 44     Korea
## 45     China
## 46          
## 47    Canada
## 48    Canada
## 49    Canada
## 50    Canada
## 51          
## 52          
## 53          
## 54       USA
## 55       USA
## 56       USA
## 57       USA
## 58       USA
## 59       USA
## 60          
## 61    Canada
## 62    Canada
## 63    Canada
## 64    Canada
## 65    Canada
## 66    Canada
## 67    Canada
## 68    Canada
## 69    Canada
## 70    Canada
## 71    Canada
## 72    Canada
## 73       USA
## 74    Canada
## 75    Canada
## 76    Canada
## 77    Canada
## 78    Canada
## 79          
## 80       USA
## 81    Canada
## 82    Canada
## 83    Canada
## 84       USA
## 85       USA
## 86       USA
## 87       USA
## 88       USA
## 89       USA
## 90    Canada
## 91       USA
## 92       USA
## 93       USA
## 94       USA
## 95       USA
## 96       USA
## 97    Canada
## 98    Canada
## 99    Canada
## 100         
## 101      USA
## 102      USA
## 103      USA
## 104      USA
## 105      USA
## 106      USA
## 107         
## 108      USA
## 109      USA
## 110      USA
## 111      USA
## 112      USA
## 113      USA
## 114         
## 115      USA
## 116      USA
## 117      USA
## 118      USA
## 119      USA
## 120      USA
## 121      USA
## 122      USA
## 123      USA
## 124      USA
## 125      USA
## 126      USA
## 127         
## 128      USA
## 129      USA
## 130      USA
## 131      USA
## 132      USA
## 133      USA
## 134         
## 135      USA
## 136      USA
## 137      USA
## 138         
## 139      USA
## 140      USA
## 141      USA
## 142      USA
## 143         
## 144      USA
## 145      USA
## 146      USA
## 147      USA
## 148      USA
## 149      USA
## 150</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" title="1"><span class="co"># Let&#39;s select both the Location and Species columns </span></a>
<a class="sourceLine" id="cb222-2" title="2"><span class="co"># and see what unique combinations are present in the dataset</span></a>
<a class="sourceLine" id="cb222-3" title="3"><span class="kw">unique</span>(<span class="kw">select</span>(irisz, <span class="kw">c</span>(Location, Species)))</a></code></pre></div>
<pre><code>##     Location    Species
## 1      Korea     setosa
## 2      China     setosa
## 6     Canada     setosa
## 8      China           
## 9     Russia     setosa
## 10     Japan     setosa
## 46               setosa
## 51           versicolor
## 54       USA versicolor
## 61    Canada versicolor
## 101      USA  virginica
## 107           virginica
## 143</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" title="1"><span class="co"># We can also do this with the pipe</span></a>
<a class="sourceLine" id="cb224-2" title="2">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb224-3" title="3"><span class="st">  </span><span class="kw">select</span>(Location, Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb224-4" title="4"><span class="st">  </span><span class="kw">unique</span>()</a></code></pre></div>
<pre><code>##     Location    Species
## 1      Korea     setosa
## 2      China     setosa
## 6     Canada     setosa
## 8      China           
## 9     Russia     setosa
## 10     Japan     setosa
## 46               setosa
## 51           versicolor
## 54       USA versicolor
## 61    Canada versicolor
## 101      USA  virginica
## 107           virginica
## 143</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" title="1"><span class="co"># Note that select() subsets the dataframe to the specified columns</span></a>
<a class="sourceLine" id="cb226-2" title="2"><span class="co"># The output is a dataframe, even if only one column is selected</span></a>
<a class="sourceLine" id="cb226-3" title="3"></a>
<a class="sourceLine" id="cb226-4" title="4"><span class="co"># What if we want to extract one column as a vector?</span></a>
<a class="sourceLine" id="cb226-5" title="5"><span class="co"># For this we use pull() instead of select()</span></a>
<a class="sourceLine" id="cb226-6" title="6"><span class="co"># pull() returns a vector</span></a>
<a class="sourceLine" id="cb226-7" title="7"></a>
<a class="sourceLine" id="cb226-8" title="8">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb226-9" title="9"><span class="st">  </span><span class="kw">pull</span>(Location) </a></code></pre></div>
<pre><code>##   [1] Korea  China  Korea  China  China  Canada China  China  Russia Japan 
##  [11] Russia Canada Korea  Russia Canada Canada Korea  Korea  Japan  Korea 
##  [21] Russia Korea  Japan  Japan  Russia Russia Japan  Russia Japan  Canada
##  [31] Canada Canada Russia Russia Russia Russia Korea  Japan  Korea  Japan 
##  [41] Japan  Japan  Japan  Korea  China         Canada Canada Canada Canada
##  [51]                      USA    USA    USA    USA    USA    USA          
##  [61] Canada Canada Canada Canada Canada Canada Canada Canada Canada Canada
##  [71] Canada Canada USA    Canada Canada Canada Canada Canada        USA   
##  [81] Canada Canada Canada USA    USA    USA    USA    USA    USA    Canada
##  [91] USA    USA    USA    USA    USA    USA    Canada Canada Canada       
## [101] USA    USA    USA    USA    USA    USA           USA    USA    USA   
## [111] USA    USA    USA           USA    USA    USA    USA    USA    USA   
## [121] USA    USA    USA    USA    USA    USA           USA    USA    USA   
## [131] USA    USA    USA           USA    USA    USA           USA    USA   
## [141] USA    USA           USA    USA    USA    USA    USA    USA          
## Levels:  Canada China Japan Korea Russia USA</code></pre>
<div id="filtering-dataframes" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Filtering dataframes</h3>
<p>The basics of filtering are the <code>filter()</code> function and boolean operators (<code>&gt;</code>, <code>&lt;</code>, <code>==</code>), learned in section xxx</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" title="1"><span class="co"># Filter for Petal.Length greater than x</span></a>
<a class="sourceLine" id="cb228-2" title="2">x =<span class="st"> </span><span class="dv">7</span></a>
<a class="sourceLine" id="cb228-3" title="3"></a>
<a class="sourceLine" id="cb228-4" title="4">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb228-5" title="5"><span class="st">  </span><span class="kw">filter</span>(<span class="kw">as.numeric</span>(Sepal.Length) <span class="op">&gt;</span><span class="st"> </span>x)</a></code></pre></div>
<pre><code>##     Sepal.Length Sepal.Width Petal.Length Petal.Width    Species Location
## 1            5.1         3.5          1.4         0.2     setosa    Korea
## 2            4.9           3          1.4         0.2     setosa    China
## 3              5         3.6          1.4         0.2     setosa    China
## 4            5.4                      1.7         0.4     setosa   Canada
## 5              5         3.4          1.5         0.2               China
## 6            4.9         3.1          1.5         0.1     setosa    Japan
## 7            5.4         3.7          1.5         0.2     setosa   Russia
## 8            5.8           4          1.2         0.2     setosa   Canada
## 9            5.7         4.4          1.5         0.4     setosa   Canada
## 10           5.4         3.9          1.3         0.4     setosa    Korea
## 11           5.1         3.5          1.4         0.3     setosa    Korea
## 12           5.7         3.8          1.7         0.3     setosa    Japan
## 13           5.1         3.8          1.5         0.3     setosa    Korea
## 14           5.4         3.4          1.7         0.2     setosa   Russia
## 15           5.1         3.7          1.5         0.4     setosa    Korea
## 16           5.1         3.3          1.7         0.5     setosa    Japan
## 17             5           3          1.6         0.2     setosa   Russia
## 18             5         3.4          1.6         0.4     setosa    Japan
## 19           5.2         3.5          1.5         0.2     setosa   Russia
## 20           5.2         3.4          1.4         0.2     setosa    Japan
## 21           5.4         3.4          1.5         0.4     setosa   Canada
## 22           5.2         4.1          1.5         0.1     setosa   Russia
## 23           5.5         4.2          1.4         0.2     setosa   Russia
## 24           4.9         3.1          1.5         0.2     setosa   Russia
## 25             5         3.2          1.2         0.2     setosa   Russia
## 26           5.5        0.35          1.3         0.2     setosa    Korea
## 27           4.9         3.6          1.4         0.1     setosa    Japan
## 28           5.1         3.4          1.5         0.2     setosa    Japan
## 29             5         3.5          1.3         0.3     setosa    Japan
## 30           n/a         n/a          1.6         0.6     setosa    Korea
## 31           5.1         3.8          1.9         0.4     setosa    China
## 32           5.1         3.8          1.6         0.2     setosa   Canada
## 33           5.3         3.7          1.5         0.2     setosa   Canada
## 34             5         3.3          1.4         0.2     setosa   Canada
## 35             7         3.2          4.7         1.4 versicolor         
## 36           6.4         3.2          4.5         1.5 versicolor         
## 37           6.9         3.1          4.9         1.5 versicolor         
## 38           5.5         2.3            4         1.3 versicolor      USA
## 39           6.5         2.8          4.6         1.5 versicolor      USA
## 40           5.7         2.8          4.5         1.3 versicolor      USA
## 41           6.3         3.3          4.7         1.6 versicolor      USA
## 42           4.9         2.4          3.3           1 versicolor      USA
## 43           6.6         2.9          4.6         1.3 versicolor      USA
## 44           5.2         2.7          3.9         1.4 versicolor         
## 45             5           2          3.5           1 versicolor   Canada
## 46           5.9           3          4.2         1.5 versicolor   Canada
## 47             6         2.2            4           1 versicolor   Canada
## 48           6.1         2.9          4.7         1.4 versicolor   Canada
## 49           5.6         2.9          3.6         1.3 versicolor   Canada
## 50           6.7         3.1          4.4         1.4 versicolor   Canada
## 51           5.6           3          4.5         1.5 versicolor   Canada
## 52           5.8         2.7          4.1           1 versicolor   Canada
## 53           6.2         2.2          4.5         1.5 versicolor   Canada
## 54           5.6         2.5          3.9         1.1 versicolor   Canada
## 55           5.9         3.2          4.8         1.8 versicolor   Canada
## 56           6.1         2.8            4         1.3 versicolor   Canada
## 57           6.3         2.5          4.9         1.5 versicolor      USA
## 58           6.1         2.8          4.7         1.2 versicolor   Canada
## 59           6.4         2.9          4.3         1.3 versicolor   Canada
## 60           6.6           3          4.4         1.4 versicolor   Canada
## 61           6.8         2.8          4.8         1.4 versicolor   Canada
## 62           6.7           3            5         1.7 versicolor   Canada
## 63             6         2.9          4.5         1.5 versicolor         
## 64           5.7         2.6          3.5           1 versicolor      USA
## 65           5.5         2.4          3.8         1.1 versicolor   Canada
## 66           5.5         2.4          3.7           1 versicolor   Canada
## 67           5.8         2.7          3.9         1.2 versicolor   Canada
## 68             6         2.7          5.1             versicolor      USA
## 69           5.4           3          4.5         1.5 versicolor      USA
## 70             6         3.4          4.5         1.6 versicolor      USA
## 71           6.7         3.1          4.7         1.5 versicolor      USA
## 72           6.3         2.3          4.4         1.3 versicolor      USA
## 73           5.6           3          4.1         1.3 versicolor      USA
## 74           5.5         2.5            4         1.3 versicolor   Canada
## 75           5.5         2.6          4.4         1.2 versicolor      USA
## 76           6.1           3          4.6         1.4 versicolor      USA
## 77           5.8         2.6            4         1.2 versicolor      USA
## 78             5         2.3          3.3           1 versicolor      USA
## 79           5.6         2.7          4.2         1.3 versicolor      USA
## 80           5.7           3          4.2         1.2 versicolor      USA
## 81           5.7                      4.2         1.3 versicolor   Canada
## 82           6.2         2.9          4.3         1.3 versicolor   Canada
## 83           5.1         2.5            3         1.1 versicolor   Canada
## 84           5.7         2.8          4.1         1.3 versicolor         
## 85           6.3         3.3            6         2.5  virginica      USA
## 86           5.8         2.7          5.1         1.9  virginica      USA
## 87           7.1           3          5.9         2.1  virginica      USA
## 88           6.3         2.9          5.6         1.8  virginica      USA
## 89           6.5           3          5.8         2.2  virginica      USA
## 90           7.6           3          6.6         2.1  virginica      USA
## 91           4.9         2.5          4.5         1.7  virginica         
## 92           6.7         2.5          5.8         1.8  virginica      USA
## 93           7.2         3.6          6.1         2.5  virginica      USA
## 94           6.5         3.2          5.1           2  virginica      USA
## 95           6.4         2.7          5.3         1.9  virginica      USA
## 96           6.8           3          5.5         2.1  virginica      USA
## 97           5.7         2.5            5           2  virginica         
## 98           5.8         2.8          5.1         2.4  virginica      USA
## 99           6.4         3.2                      2.3  virginica      USA
## 100          6.5           3          5.5         1.8  virginica      USA
## 101          7.7         3.8          6.7         2.2  virginica      USA
## 102          7.7         2.6          6.9          23  virginica      USA
## 103            6         2.2            5         1.5  virginica      USA
## 104          6.9         3.2          5.7         2.3  virginica      USA
## 105          5.6         2.8          4.9           2  virginica      USA
## 106          7.7         2.8          6.7           2  virginica      USA
## 107          6.3         2.7          4.9         1.8  virginica      USA
## 108          6.7         3.3          5.7         2.1  virginica      USA
## 109          7.2         3.2            6         1.8  virginica      USA
## 110          6.2         2.8          4.8         1.8  virginica         
## 111          6.1           3          4.9         1.8  virginica      USA
## 112          6.4         2.8          5.6         2.1  virginica      USA
## 113          7.2           3          5.8         1.6  virginica      USA
## 114          7.4         2.8          6.1         1.9  virginica      USA
## 115          7.9         3.8          6.4           2  virginica      USA
## 116          6.4         2.8          5.6         2.2  virginica      USA
## 117          6.3         2.8          5.1         1.5  virginica         
## 118          6.1         2.6          5.6         1.4  virginica      USA
## 119          7.7           3          6.1         2.3  virginica      USA
## 120          6.3         3.4          5.6         2.4  virginica      USA
## 121          6.4         3.1          5.5         1.8  virginica         
## 122            6           3          4.8         1.8  virginica      USA
## 123          6.9         3.1          5.4         2.1  virginica      USA
## 124          6.7         3.1          5.6         2.4  virginica      USA
## 125          6.9         3.1          5.1         2.3  virginica      USA
## 126          5.8         2.7          5.1         1.9                    
## 127          6.8         3.2          5.9         2.3  virginica      USA
## 128          6.7         3.3          5.7         2.5  virginica      USA
## 129          6.7           3          5.2         2.3  virginica      USA
## 130          6.3         2.5            5         1.9  virginica      USA
## 131          6.5           3          n/a         n/a  virginica      USA
## 132          6.2         3.4          5.4         2.3  virginica      USA
## 133          5.9           3          5.1         1.8  virginica</code></pre>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" title="1"><span class="co"># filter to get observations of setosa species from Korea</span></a>
<a class="sourceLine" id="cb230-2" title="2">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb230-3" title="3"><span class="st">  </span><span class="kw">filter</span>(Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span>,</a>
<a class="sourceLine" id="cb230-4" title="4">         Location <span class="op">==</span><span class="st"> &quot;Korea&quot;</span>)</a></code></pre></div>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species Location
## 1           5.1         3.5          1.4         0.2  setosa    Korea
## 2           4.7         3.2          1.3         0.2  setosa    Korea
## 3           4.8           3          1.4         0.1  setosa    Korea
## 4           5.4         3.9          1.3         0.4  setosa    Korea
## 5           5.1         3.5          1.4         0.3  setosa    Korea
## 6           5.1         3.8          1.5         0.3  setosa    Korea
## 7           5.1         3.7          1.5         0.4  setosa    Korea
## 8           5.5        0.35          1.3         0.2  setosa    Korea
## 9           4.4           3          1.3         0.2  setosa    Korea
## 10          n/a         n/a          1.6         0.6  setosa    Korea</code></pre>
</div>
<div id="creating-new-variables" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Creating new variables</h3>
<p><to do ></p>
</div>
<div id="summarizing-data" class="section level3">
<h3><span class="header-section-number">3.3.3</span> Summarizing data</h3>
<p>Summarizing data is very important in data analysis. It allows you to get a big picture overview of a new dataset: type, range of values, etc. These are also types of summaries to think about including when in the exploratory stages: before running analyses on a dataset, create a summary of the dataset. Present this in during your update meetings during your summer project, and keep these summaries on hand in case you or others have questions about it throughout the course of your project.</p>
<p>For summarizing data in tidyverse, let’s explore the functions <code>count()</code>, <code>group_by()</code>, <code>summarize()</code></p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" title="1"><span class="co"># Count the number of observations for each Location</span></a>
<a class="sourceLine" id="cb232-2" title="2">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb232-3" title="3"><span class="st">  </span><span class="kw">count</span>(Location)</a></code></pre></div>
<pre><code>##   Location  n
## 1          14
## 2   Canada 35
## 3    China  6
## 4    Japan 11
## 5    Korea 10
## 6   Russia 11
## 7      USA 63</code></pre>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" title="1"><span class="co"># Count the number of observations for each unique combination</span></a>
<a class="sourceLine" id="cb234-2" title="2"><span class="co"># of location and species</span></a>
<a class="sourceLine" id="cb234-3" title="3"></a>
<a class="sourceLine" id="cb234-4" title="4">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb234-5" title="5"><span class="st">  </span><span class="kw">count</span>(Location, Species)</a></code></pre></div>
<pre><code>##    Location    Species  n
## 1                       1
## 2               setosa  1
## 3           versicolor  6
## 4            virginica  6
## 5    Canada     setosa 11
## 6    Canada versicolor 24
## 7     China             1
## 8     China     setosa  5
## 9     Japan     setosa 11
## 10    Korea     setosa 10
## 11   Russia     setosa 11
## 12      USA versicolor 20
## 13      USA  virginica 43</code></pre>
<p>What if we want to do more than just count the number of occurrences for a given group? Let’s calculate summary statistics like mean and standard deviation.
<code>group_by</code> takes a variable and groups the data by that variable. Anything that happens after that is only calculated within the group variable. To turn off grouping, use <code>ungroup()</code>. It’s always good practice to <code>ungroup()</code> after you’re done grouping. Although it doesn’t matter if you won’t be doing any more operations on the dataset.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" title="1"><span class="co"># Here&#39;s an example that produces a similar result </span></a>
<a class="sourceLine" id="cb236-2" title="2"><span class="co"># as in the count() example above</span></a>
<a class="sourceLine" id="cb236-3" title="3"></a>
<a class="sourceLine" id="cb236-4" title="4">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb236-5" title="5"><span class="st">  </span><span class="kw">group_by</span>(Location) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb236-6" title="6"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb236-7" title="7"><span class="st">  </span><span class="kw">ungroup</span>()</a></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 7 x 2
##   Location     n
##   &lt;fct&gt;    &lt;int&gt;
## 1 &quot;&quot;          14
## 2 &quot;Canada&quot;    35
## 3 &quot;China&quot;      6
## 4 &quot;Japan&quot;     11
## 5 &quot;Korea&quot;     10
## 6 &quot;Russia&quot;    11
## 7 &quot;USA&quot;       63</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb239-1" title="1"><span class="co"># Since mean() and sd() require numeric inputs,</span></a>
<a class="sourceLine" id="cb239-2" title="2"><span class="co"># let&#39;s use mutate to change Petal.Length into a numeric data type</span></a>
<a class="sourceLine" id="cb239-3" title="3"><span class="co"># We&#39;ll also tell mean() and sd() to ignore NAs in the calculation</span></a>
<a class="sourceLine" id="cb239-4" title="4"></a>
<a class="sourceLine" id="cb239-5" title="5">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb239-6" title="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Petal.Length =</span> <span class="kw">as.numeric</span>(Petal.Length)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb239-7" title="7"><span class="st">  </span><span class="kw">group_by</span>(Location) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb239-8" title="8"><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">n =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb239-9" title="9">            <span class="kw">mean</span>(Petal.Length, <span class="dt">na.rm =</span> T),</a>
<a class="sourceLine" id="cb239-10" title="10">            <span class="kw">sd</span>(Petal.Length, <span class="dt">na.rm =</span> T)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb239-11" title="11"><span class="st">  </span><span class="kw">ungroup</span>()</a></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 7 x 4
##   Location     n `mean(Petal.Length, na.rm = T)` `sd(Petal.Length, na.rm = T)`
##   &lt;fct&gt;    &lt;int&gt;                           &lt;dbl&gt;                         &lt;dbl&gt;
## 1 &quot;&quot;          14                           25.1                           6.72
## 2 &quot;Canada&quot;    35                           16.7                           7.42
## 3 &quot;China&quot;      6                            8                             1.55
## 4 &quot;Japan&quot;     11                            7.27                          2.05
## 5 &quot;Korea&quot;     10                            7                             1.05
## 6 &quot;Russia&quot;    11                            7.73                          2.00
## 7 &quot;USA&quot;       63                           30.8                           8.83</code></pre>
<p>Comprehension: Try calculating the min and max Petal Length for each Species. Use <code>group_by()</code>.</p>
<p>We can also use base R functions with the tidyverse <code>%&gt;%</code> and/or functions</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" title="1"><span class="co"># How many of each location are there? Use the base R table() function</span></a>
<a class="sourceLine" id="cb242-2" title="2"><span class="co"># Use the pull() function</span></a>
<a class="sourceLine" id="cb242-3" title="3">irisz <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb242-4" title="4"><span class="st">  </span><span class="kw">pull</span>(Location) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb242-5" title="5"><span class="st">  </span><span class="kw">table</span>()</a></code></pre></div>
<pre><code>## .
##        Canada  China  Japan  Korea Russia    USA 
##     14     35      6     11     10     11     63</code></pre>
</div>
<div id="updating-fields-based-on-a-condition" class="section level3">
<h3><span class="header-section-number">3.3.4</span> Updating fields based on a condition</h3>
</div>
<div id="reshaping-data-long-and-wide" class="section level3">
<h3><span class="header-section-number">3.3.5</span> Reshaping data: long and wide</h3>
<p><code>gather()</code> and <code>spread()</code></p>
<p>Advanced: <code>reshape()</code> (dcast package)</p>

</div>
</div>
<p style="margin-top:10em;text-align:center;font-size:small;">
    <a href="https://github.com/darachm/dll-r/blob/main/LICENSE.md">
        Licensed Creative Commons Attribution-NonCommercial-ShareAlike 4.0
    </a>
</p>
<p style="text-align:center;font-size:small;">
    <a href="https://github.com/rstudio/bookdown" target="blank">
        Website typeset with bookdown
    </a>
</p>

<script> 
// This is to look through, everything that's a floating lone double dash,
// delete it. This is left over for stuff that's trying to be pauses for
// the slides
var listz = document.getElementsByTagName("p");
for (var i=0; i < listz.length; i++) { 
    if (listz[i].innerText === "–") { listz[i].innerText = "" } 
} 
</script>
            </section>

          </div>
        </div>
      </div>
<a href="using-tidyverse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="using-tidyverse-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/darachm/dll-r/edit/main/420-tidyverse-part1_v2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DLL 2021 R syllabus site.html"],
"toc": {
"collapse": "subsection"
},
"highlight": "zenburn"
});
});
</script>

</body>

</html>
