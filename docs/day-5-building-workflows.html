<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Day 5 - building workflows | DLL 2021, R section</title>
  <meta name="description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Day 5 - building workflows | DLL 2021, R section" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  <meta name="github-repo" content="darachm/dll-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Day 5 - building workflows | DLL 2021, R section" />
  
  <meta name="twitter:description" content="A living syllabus for the R section of DLL 2021, at Stanford" />
  

<meta name="author" content="mesako" />
<meta name="author" content="Margaret" />
<meta name="author" content="Samson" />
<meta name="author" content="Zac" />
<meta name="author" content="darachm" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="day-4-tidyverse-and-plots-and-such.html"/>
<link rel="next" href="appendix.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DLL 2021 R workshops</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Workshop introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#workshop-goals"><i class="fa fa-check"></i><b>1.1</b> Workshop goals</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#structure-and-resources"><i class="fa fa-check"></i><b>1.2</b> Structure and resources</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#this-syllabus-and-videos"><i class="fa fa-check"></i><b>1.2.1</b> This syllabus and videos</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#slack-channel"><i class="fa fa-check"></i><b>1.2.2</b> Slack channel</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#workshop-expectations"><i class="fa fa-check"></i><b>1.3</b> Workshop expectations</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Day 3 - intoduction to R</a><ul>
<li class="chapter" data-level="2.1" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#rstudio-and-basics"><i class="fa fa-check"></i><b>2.1</b> Rstudio, and basics</a></li>
<li class="chapter" data-level="2.2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#data-exploration-pipelines"><i class="fa fa-check"></i><b>2.2</b> Data exploration pipelines</a></li>
<li class="chapter" data-level="2.3" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#getting-started-in-r"><i class="fa fa-check"></i><b>2.3</b> Getting started in R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#getting-help-in-r"><i class="fa fa-check"></i><b>2.3.1</b> Getting help in R</a></li>
<li class="chapter" data-level="2.3.2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#using-variables-and-data-types"><i class="fa fa-check"></i><b>2.3.2</b> Using variables and data types</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#working-with-vectors"><i class="fa fa-check"></i><b>2.4</b> Working with vectors</a><ul>
<li class="chapter" data-level="2.4.1" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#indexing-and-subsetting-vectors"><i class="fa fa-check"></i><b>2.4.1</b> Indexing and subsetting vectors</a></li>
<li class="chapter" data-level="2.4.2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#using-logic-and-logicals"><i class="fa fa-check"></i><b>2.4.2</b> Using logic and logicals</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#working-with-dataframes"><i class="fa fa-check"></i><b>2.5</b> Working with dataframes</a><ul>
<li class="chapter" data-level="2.5.1" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#exploring-dataframes"><i class="fa fa-check"></i><b>2.5.1</b> Exploring dataframes</a></li>
<li class="chapter" data-level="2.5.2" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#building-and-modifying-dataframes"><i class="fa fa-check"></i><b>2.5.2</b> Building and modifying dataframes</a></li>
<li class="chapter" data-level="2.5.3" data-path="day-3-intoduction-to-r.html"><a href="day-3-intoduction-to-r.html#handling-datatypes-in-dataframes"><i class="fa fa-check"></i><b>2.5.3</b> Handling datatypes in dataframes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html"><i class="fa fa-check"></i><b>3</b> Day 4 - tidyverse and plots and such</a><ul>
<li class="chapter" data-level="3.1" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#reading-and-processing-data"><i class="fa fa-check"></i><b>3.1</b> Reading and processing data</a></li>
<li class="chapter" data-level="3.2" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#using-tidyverse"><i class="fa fa-check"></i><b>3.2</b> Using tidyverse</a></li>
<li class="chapter" data-level="3.3" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#using-tidyverse-1"><i class="fa fa-check"></i><b>3.3</b> Using tidyverse</a></li>
<li class="chapter" data-level="3.4" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#making-plots-with-ggplot2"><i class="fa fa-check"></i><b>3.4</b> Making plots with ggplot2</a><ul>
<li class="chapter" data-level="3.4.1" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#getting-started-with-a-ggplot"><i class="fa fa-check"></i><b>3.4.1</b> Getting started with a ggplot</a></li>
<li class="chapter" data-level="3.4.2" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#changing-plot-aesthetics"><i class="fa fa-check"></i><b>3.4.2</b> Changing plot aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#exploring-other-plots"><i class="fa fa-check"></i><b>3.5</b> Exploring other plots</a><ul>
<li class="chapter" data-level="3.5.1" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#using-categorical-data"><i class="fa fa-check"></i><b>3.5.1</b> Using categorical data</a></li>
<li class="chapter" data-level="3.5.2" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#visualizing-between-groups"><i class="fa fa-check"></i><b>3.5.2</b> Visualizing between groups</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#making-scientific-figures"><i class="fa fa-check"></i><b>3.6</b> Making scientific figures</a><ul>
<li class="chapter" data-level="3.6.1" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#plotting-error-bars"><i class="fa fa-check"></i><b>3.6.1</b> Plotting error bars</a></li>
<li class="chapter" data-level="3.6.2" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#showing-trends-in-data"><i class="fa fa-check"></i><b>3.6.2</b> Showing trends in data</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#saving-figures-locally"><i class="fa fa-check"></i><b>3.7</b> Saving figures locally</a></li>
<li class="chapter" data-level="3.8" data-path="day-4-tidyverse-and-plots-and-such.html"><a href="day-4-tidyverse-and-plots-and-such.html#applying-basic-stats"><i class="fa fa-check"></i><b>3.8</b> Applying basic stats</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html"><i class="fa fa-check"></i><b>4</b> Day 5 - building workflows</a><ul>
<li class="chapter" data-level="4.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#using-code-many-times---loops"><i class="fa fa-check"></i><b>4.1</b> Using code many times - loops</a><ul>
<li class="chapter" data-level="4.1.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#doing-things-multiple-times"><i class="fa fa-check"></i><b>4.1.1</b> Doing things multiple times</a></li>
<li class="chapter" data-level="4.1.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#loops"><i class="fa fa-check"></i><b>4.1.2</b> Loops</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#writing-reusable-code"><i class="fa fa-check"></i><b>4.2</b> Writing (re)usable code</a><ul>
<li class="chapter" data-level="4.2.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#style-guides-can-be-inspiring"><i class="fa fa-check"></i><b>4.2.1</b> Style guides can be inspiring</a></li>
<li class="chapter" data-level="4.2.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#what-style-should-you-use"><i class="fa fa-check"></i><b>4.2.2</b> What style should you use?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#writing-modular-code"><i class="fa fa-check"></i><b>4.3</b> Writing modular code</a><ul>
<li class="chapter" data-level="4.3.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#calculating-standard-error"><i class="fa fa-check"></i><b>4.3.1</b> Calculating standard error</a></li>
<li class="chapter" data-level="4.3.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#more-complex-modules"><i class="fa fa-check"></i><b>4.3.2</b> More complex modules</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#packages-are-chunks-of-code-and-sometimes-data"><i class="fa fa-check"></i><b>4.4</b> Packages are chunks of code (and sometimes data)</a><ul>
<li class="chapter" data-level="4.4.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#first-stop---cran"><i class="fa fa-check"></i><b>4.4.1</b> first stop - CRAN</a></li>
<li class="chapter" data-level="4.4.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#how-does-this-package-work"><i class="fa fa-check"></i><b>4.4.2</b> How does this package work?</a></li>
<li class="chapter" data-level="4.4.3" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#next-stop---github"><i class="fa fa-check"></i><b>4.4.3</b> next stop - github</a></li>
<li class="chapter" data-level="4.4.4" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#finally---bioconductor"><i class="fa fa-check"></i><b>4.4.4</b> finally - Bioconductor 😬</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#finding-more-help-and-documentation"><i class="fa fa-check"></i><b>4.5</b> Finding more help and documentation</a></li>
<li class="chapter" data-level="4.6" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#reproducibility-and-sharing"><i class="fa fa-check"></i><b>4.6</b> Reproducibility and sharing</a></li>
<li class="chapter" data-level="4.7" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#reproducibile-sharing---more-rmarkdown-and"><i class="fa fa-check"></i><b>4.7</b> Reproducibile sharing - more <code>rmarkdown</code> and</a><ul>
<li class="chapter" data-level="4.7.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#rmarkdown-package"><i class="fa fa-check"></i><b>4.7.1</b> rmarkdown package</a></li>
<li><a href="day-5-building-workflows.html#section"></a></li>
<li class="chapter" data-level="4.7.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#sharing-with-others"><i class="fa fa-check"></i><b>4.7.2</b> Sharing with others</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#troubleshooting-getting-help-dissecting-problems"><i class="fa fa-check"></i><b>4.8</b> Troubleshooting, getting help, dissecting problems</a><ul>
<li class="chapter" data-level="4.8.1" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#places-to-look-for-help"><i class="fa fa-check"></i><b>4.8.1</b> Places to look for help</a></li>
<li class="chapter" data-level="4.8.2" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#minimum-reproducible-example"><i class="fa fa-check"></i><b>4.8.2</b> Minimum reproducible example</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="day-5-building-workflows.html"><a href="day-5-building-workflows.html#conclusion-other-concepts"><i class="fa fa-check"></i><b>4.9</b> Conclusion, other concepts</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>5</b> Appendix</a><ul>
<li class="chapter" data-level="5.1" data-path="appendix.html"><a href="appendix.html#additional-tutorials"><i class="fa fa-check"></i><b>5.1</b> Additional tutorials</a><ul>
<li class="chapter" data-level="5.1.1" data-path="appendix.html"><a href="appendix.html#sub-sub-section"><i class="fa fa-check"></i><b>5.1.1</b> sub sub section</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="appendix.html"><a href="appendix.html#more-challenges"><i class="fa fa-check"></i><b>5.2</b> More challenges</a></li>
<li class="chapter" data-level="5.3" data-path="appendix.html"><a href="appendix.html#figures-ideas"><i class="fa fa-check"></i><b>5.3</b> Figures ideas</a></li>
<li class="chapter" data-level="5.4" data-path="appendix.html"><a href="appendix.html#rmd-example-of-code-chunk"><i class="fa fa-check"></i><b>5.4</b> Rmd example of code chunk</a></li>
<li class="chapter" data-level="5.5" data-path="appendix.html"><a href="appendix.html#more-example-rmds"><i class="fa fa-check"></i><b>5.5</b> More example Rmds</a></li>
<li class="chapter" data-level="5.6" data-path="appendix.html"><a href="appendix.html#how-to-edit-this-document"><i class="fa fa-check"></i><b>5.6</b> How to edit this document</a><ul>
<li class="chapter" data-level="5.6.1" data-path="appendix.html"><a href="appendix.html#setup"><i class="fa fa-check"></i><b>5.6.1</b> Setup</a></li>
<li class="chapter" data-level="5.6.2" data-path="appendix.html"><a href="appendix.html#editwork-on-it"><i class="fa fa-check"></i><b>5.6.2</b> Edit/work on it</a></li>
<li class="chapter" data-level="5.6.3" data-path="appendix.html"><a href="appendix.html#publishing-onto-the-main-page-so-its-hosted-at-the-url"><i class="fa fa-check"></i><b>5.6.3</b> Publishing onto the main page, so it’s hosted at the URL</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="appendix.html"><a href="appendix.html#more-links"><i class="fa fa-check"></i><b>5.7</b> More links</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DLL 2021, R section</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="day-5---building-workflows" class="section level1">
<h1><span class="header-section-number">4</span> Day 5 - building workflows</h1>
<hr />
<p>Today we’re going to learn about applying these R
skills to
repeat, reproduce, extend, and share your analyses.</p>
<p>First, let’s review the last two days.</p>
<!-- exercise -->
<ul>
<li>What have we done?</li>
<li>How do we do it many times?</li>
<li>Crack open your code - can you use it again?</li>
<li>Can you adapt it to modify your question,
feed in new data, and modify the
scientifically-important bits easily?</li>
<li>Can you share it with someone and they follow
along?</li>
</ul>

<hr />
<div id="using-code-many-times---loops" class="section level2">
<h2><span class="header-section-number">4.1</span> Using code many times - loops</h2>
<p>You will want to do the same thing multiple
times - automation is great. Let’s code up a
simple little analysis - we’ll calculate the
length (number of amino acids) in a viral
structural protein sequence.</p>
<hr />
<p>These files are in “data”.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1">viral_protein_data &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb272-2" data-line-number="2"><span class="st">  </span><span class="kw">read.delim</span>(<span class="st">&quot;data/viral_structural_proteins/viral_proteins_001.tsv&quot;</span>,</a>
<a class="sourceLine" id="cb272-3" data-line-number="3">    <span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,<span class="dt">header=</span>F)</a>
<a class="sourceLine" id="cb272-4" data-line-number="4">viral_protein_data</a></code></pre></div>
<pre><code>##                                       V1               V2
## 1 YP_009507797.1 structural polyprotein  Everglades virus
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       V3
## 1 MFPFQPMYPMQPMPYRNPFAAPRRPWFPRTDPFLAMQVQELTRSMANLTFKQRRGAPPEGPPAKKSKREAPQKQRGGQRKKKKNEGKKKAKTGPPNLKTQNGNKKKTNKKPGKRQRMVMKLESDKTFPIMLEGKINGYACVVGGKLFRPMHVEGKIDNDVLAALKTKKASKYDLEYADVPQNMRADTFKYTHEKPQGYYSWHHGAVQYENGRFTVPRGVGARGDSGRPILDNQGRVVAIVLGGVNEGSRTALSVVMWNEKGVTVKYTPENCEQWSLVTTMCLLANVTFPCAQPPICYDRKPAETLAMLSANVDNPGYDELLKAAVTCPGRKRRSTEELFKEYKLTRPYMARCVRCAVGSCHSPIAIEAVKSDGHDGYVRLQTSSQYGLDPSGNLKSRTMRYNMYGTIEEIPLHQVSLHTSRPCHIVDGHGYFLLARCPAGDSITMEFKKDSVTHSCSVPYEVKFNPVGRELYTHPPEHGAEQACQVYAHDAQNRGAYVEMHLPGSEVDSSLVSLSSGLVSVTPPAGTSALVECECSGTTISKTINKTKQFSQCTKKEQCRAYRLQNDKWVYNSDKLPKAAGATLKGKLHVPFLLADGKCTVPLAPEPMITFGFRSVSLKLHPKYPTYLTTRELADEPHYTHELISEPSVRNFSVTAKGWEFVWGNHPPKRFWAQETAPGNPHGLPHEVIVHYYHRYPMSTITGLSICAAIVAVSIAASTWLLCRSRASCLTPYRLTPNAKMPLCLAVLCCARSARAETTWESLDHLWNNNQQMFWTQLLIPLAALIVVTRLLKCMCCVVPFLVVAGAAGAGAYEHATTMPNQAGISYNTIVNRAGYAPLPISITPTKIKLIPTVNLEYVTCHYKTGMDSPTIKCCGSQECTPTYRPDEQCKVFAGVYPFMWGGAYCFCDTENTQISKAYVMKSEDCLADHAAAYKAHTASVQALLNITVGEHSTVTTVYVNGETPVNFNGVKLTAGPLSTAWTPFDRKIVQYAGEIYNYDFPEYGAGQPGAFGDIQLRTVSSSDLYANTNLVLQRPKAGAIHVPYTQAPSGFEQWKKDKAPSLKFTAPFGCEIYTNPIRAENCAVGSIPLAFDIPDALFTRVSETPTLSAAECTLNECVYSSDFGGIATVKYSASKSGKCAVHVPSGTATLKEASVELAEQGSVTIHFSTANIHPEFRLQICTSFVTCKGDCHPPKDHIVTHPQYHAQTFTAAVSKTAWTWLTSLLGGSAVIIIIGLVLATLVAMYVLTNQKHN</code></pre>
<p>How do we access the protein sequence? (<code>V3</code>)</p>
<p>How do we calculate the number of characters in
this sequence?</p>
<!-- ??"number of characters" -->
<p>Code it up!</p>
<hr />
<div id="doing-things-multiple-times" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Doing things multiple times</h3>
<p>Let’s do this for all the proteins.
The simplest way of doing this is to copy and
paste it.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb274-1" data-line-number="1">viral_protein_data &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb274-2" data-line-number="2"><span class="st">  </span><span class="kw">read.delim</span>(<span class="st">&quot;data/viral_structural_proteins/viral_proteins_002.tsv&quot;</span>,</a>
<a class="sourceLine" id="cb274-3" data-line-number="3">      <span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,<span class="dt">header=</span>F, <span class="dt">as.is=</span>T)</a>
<a class="sourceLine" id="cb274-4" data-line-number="4"><span class="kw">nchar</span>(viral_protein_data<span class="op">$</span>V3[[<span class="dv">1</span>]])</a></code></pre></div>
<pre><code>## [1] 177</code></pre>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb276-1" data-line-number="1">viral_protein_data &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb276-2" data-line-number="2"><span class="st">  </span><span class="kw">read.delim</span>(<span class="st">&quot;data/viral_structural_proteins/viral_proteins_003.tsv&quot;</span>,</a>
<a class="sourceLine" id="cb276-3" data-line-number="3">      <span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,<span class="dt">header=</span>F, <span class="dt">as.is=</span>T)</a>
<a class="sourceLine" id="cb276-4" data-line-number="4"><span class="kw">nchar</span>(viral_protein_data[<span class="dv">1</span>,<span class="st">&quot;V3&quot;</span>])</a></code></pre></div>
<pre><code>## [1] 137</code></pre>
<p>Go ahead and do this for all 242 proteins</p>
<hr />
<p>… just kidding.</p>
<p>Try this to, well, list files:</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb278-1" data-line-number="1"><span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a></code></pre></div>
<pre><code>## [1] &quot;viral_proteins_000.tsv&quot; &quot;viral_proteins_001.tsv&quot; &quot;viral_proteins_002.tsv&quot;
## [4] &quot;viral_proteins_003.tsv&quot; &quot;viral_proteins_004.tsv&quot;</code></pre>
<p>Note that I put a <code>[1:5]</code> to limit it to the first 5.
You could also use <code>head()</code>.</p>
<p>Now how do you calculate the number of characters for each protein?</p>
<hr />
</div>
<div id="loops" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Loops</h3>
<p>Loops are when you loop back to do something again.
The most common form of this is a <code>for</code> loop.
Other “control statements” or “flow control statements” are
<code>while</code>, <code>repeat</code>, and <code>if</code>.</p>
<p>Let’s look up what they do, with “?<code>for</code>”</p>
<hr />
<p>Here’s an example loop:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb280-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb280-2" data-line-number="2">  <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb280-3" data-line-number="3">}</a></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4</code></pre>
<p>The pieces:</p>
<ul>
<li><p><code>(i in 1:4)</code> is what is being looped over - <code>1:4</code> is a vector of
1 through 4 that is created, and it is put one at a time into <code>i</code>
(a new variable). You need the parentheses.</p></li>
<li><p><code>{</code> and <code>}</code> denote the opening and closing brackets, specify the
“code block” that is run each time.</p></li>
<li><p>inside this “code block” is <code>print(i)</code> - it prints the variable <code>i</code>,
which is set to a value of 1, 2, 3, or 4 for each loop</p></li>
</ul>
<hr />
<p>video1
<!--
loops stuff
--></p>
<hr />
<p>How do we loop through and print each file name?</p>
<p>What’s the analogous component?</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb282-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>] ) {</a>
<a class="sourceLine" id="cb282-2" data-line-number="2">  <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb282-3" data-line-number="3">}</a></code></pre></div>
<pre><code>## [1] &quot;viral_proteins_000.tsv&quot;
## [1] &quot;viral_proteins_001.tsv&quot;
## [1] &quot;viral_proteins_002.tsv&quot;
## [1] &quot;viral_proteins_003.tsv&quot;
## [1] &quot;viral_proteins_004.tsv&quot;</code></pre>
<hr />
<p>How do we modify this to calculate the protein length?</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb284-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>] ) {</a>
<a class="sourceLine" id="cb284-2" data-line-number="2">  <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb284-3" data-line-number="3">  <span class="kw">print</span>(<span class="kw">nchar</span>(<span class="kw">read.delim</span>(i)<span class="op">$</span>V3[[<span class="dv">1</span>]]))</a>
<a class="sourceLine" id="cb284-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] &quot;viral_proteins_000.tsv&quot;</code></pre>
<pre><code>## Warning in file(file, &quot;rt&quot;): cannot open file &#39;viral_proteins_000.tsv&#39;: No such
## file or directory</code></pre>
<pre><code>## Error in file(file, &quot;rt&quot;): cannot open the connection</code></pre>
<hr />
<p>Debugging…</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb288-1" data-line-number="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>,</a>
<a class="sourceLine" id="cb288-2" data-line-number="2">                     <span class="dt">full.names=</span>T)[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>] ) {</a>
<a class="sourceLine" id="cb288-3" data-line-number="3">  <span class="kw">print</span>(<span class="kw">nchar</span>(<span class="kw">read.delim</span>(i,<span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>,<span class="dt">header=</span>F,<span class="dt">as.is=</span>T)<span class="op">$</span>V3[[<span class="dv">1</span>]]))</a>
<a class="sourceLine" id="cb288-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] 1248
## [1] 1254
## [1] 177
## [1] 137
## [1] 117</code></pre>
<hr />
<div id="storing-values-from-a-loop" class="section level4">
<h4><span class="header-section-number">4.1.2.1</span> Storing values from a loop</h4>
<p>How do we store this value?</p>
<p>In other languages, “append”. But R is not built that way. It’ll work,
but it’s very inefficient. The “R-way” to store values from a loop
is to define a vector of the right length,
then put each element in it.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb290-1" data-line-number="1"><span class="kw">vector</span>(<span class="st">&quot;character&quot;</span>,<span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb292-1" data-line-number="1"><span class="kw">vector</span>(<span class="dt">mode=</span><span class="st">&quot;numeric&quot;</span>,<span class="dt">length=</span><span class="dv">5</span>)</a></code></pre></div>
<pre><code>## [1] 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb294-1" data-line-number="1"><span class="kw">vector</span>(<span class="st">&quot;logical&quot;</span>,<span class="dv">2</span>)</a></code></pre></div>
<pre><code>## [1] FALSE FALSE</code></pre>
<hr />
<p>Okay, but how do we access each position to save the value?
We need to turn out list of files into indicies.
We’ll save it first so we can count how many there are.</p>
<p><code>seq_along</code> is handy function, otherwise use something like
<code>seq(1,length(x))</code>.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb296-1" data-line-number="1">first_five &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a>
<a class="sourceLine" id="cb296-2" data-line-number="2"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(first_five) ) {</a>
<a class="sourceLine" id="cb296-3" data-line-number="3">  <span class="kw">print</span>(first_five[i])</a>
<a class="sourceLine" id="cb296-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] &quot;viral_proteins_000.tsv&quot;
## [1] &quot;viral_proteins_001.tsv&quot;
## [1] &quot;viral_proteins_002.tsv&quot;
## [1] &quot;viral_proteins_003.tsv&quot;
## [1] &quot;viral_proteins_004.tsv&quot;</code></pre>
<hr />
<p>Putting these together, we can save a vector of file names:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb298-1" data-line-number="1">first_five &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a>
<a class="sourceLine" id="cb298-2" data-line-number="2">filenamez &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;character&quot;</span>,<span class="kw">length</span>(first_five))</a>
<a class="sourceLine" id="cb298-3" data-line-number="3"></a>
<a class="sourceLine" id="cb298-4" data-line-number="4"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(first_five) ) {</a>
<a class="sourceLine" id="cb298-5" data-line-number="5">  filenamez[i] &lt;-<span class="st"> </span>first_five[i]</a>
<a class="sourceLine" id="cb298-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb298-7" data-line-number="7"></a>
<a class="sourceLine" id="cb298-8" data-line-number="8">filenamez</a></code></pre></div>
<pre><code>## [1] &quot;viral_proteins_000.tsv&quot; &quot;viral_proteins_001.tsv&quot; &quot;viral_proteins_002.tsv&quot;
## [4] &quot;viral_proteins_003.tsv&quot; &quot;viral_proteins_004.tsv&quot;</code></pre>
<hr />
<p>And finally calculate the length of each protein:</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb300-1" data-line-number="1">first_five &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>,</a>
<a class="sourceLine" id="cb300-2" data-line-number="2">                         <span class="dt">full.names=</span>T, <span class="dt">pattern=</span><span class="st">&quot;.*tsv&quot;</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</a>
<a class="sourceLine" id="cb300-3" data-line-number="3">lengthz &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;character&quot;</span>,<span class="kw">length</span>(first_five))</a>
<a class="sourceLine" id="cb300-4" data-line-number="4"></a>
<a class="sourceLine" id="cb300-5" data-line-number="5"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(first_five) ) {</a>
<a class="sourceLine" id="cb300-6" data-line-number="6">  lengthz[i] &lt;-<span class="st"> </span><span class="kw">nchar</span>( <span class="kw">read.delim</span>(first_five[i],</a>
<a class="sourceLine" id="cb300-7" data-line-number="7">      <span class="dt">header=</span>F,<span class="dt">as.is=</span>T,<span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)<span class="op">$</span>V3[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb300-8" data-line-number="8">    )</a>
<a class="sourceLine" id="cb300-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb300-10" data-line-number="10"></a>
<a class="sourceLine" id="cb300-11" data-line-number="11">lengthz</a></code></pre></div>
<pre><code>## [1] &quot;1248&quot; &quot;1254&quot; &quot;177&quot;  &quot;137&quot;  &quot;117&quot;</code></pre>
<hr />
<p>Now we can take off the <code>[1:5]</code> limiter, and do the whole set:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb302-1" data-line-number="1">first_five &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>,</a>
<a class="sourceLine" id="cb302-2" data-line-number="2">                         <span class="dt">full.names=</span>T, <span class="dt">pattern=</span><span class="st">&quot;.*tsv&quot;</span>)</a>
<a class="sourceLine" id="cb302-3" data-line-number="3">lengthz &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;character&quot;</span>,<span class="kw">length</span>(first_five))</a>
<a class="sourceLine" id="cb302-4" data-line-number="4"></a>
<a class="sourceLine" id="cb302-5" data-line-number="5"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(first_five) ) {</a>
<a class="sourceLine" id="cb302-6" data-line-number="6">  lengthz[i] &lt;-<span class="st"> </span><span class="kw">nchar</span>( <span class="kw">read.delim</span>(first_five[i],</a>
<a class="sourceLine" id="cb302-7" data-line-number="7">      <span class="dt">header=</span>F,<span class="dt">as.is=</span>T,<span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)<span class="op">$</span>V3[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb302-8" data-line-number="8">    )</a>
<a class="sourceLine" id="cb302-9" data-line-number="9">}</a></code></pre></div>
<hr />
<p>How do we go about visualizing/analyzing this?</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb303-1" data-line-number="1"><span class="kw">hist</span>(lengthz)</a></code></pre></div>
<pre><code>## Error in hist.default(lengthz): &#39;x&#39; must be numeric</code></pre>
<p>er what…?</p>
<p>Numeric….</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb305-1" data-line-number="1">first_five &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span><span class="st">&quot;data/viral_structural_proteins&quot;</span>,</a>
<a class="sourceLine" id="cb305-2" data-line-number="2">                         <span class="dt">full.names=</span>T, <span class="dt">pattern=</span><span class="st">&quot;.*tsv&quot;</span>)</a>
<a class="sourceLine" id="cb305-3" data-line-number="3">lengthz &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&quot;numeric&quot;</span>,<span class="kw">length</span>(first_five))</a>
<a class="sourceLine" id="cb305-4" data-line-number="4"></a>
<a class="sourceLine" id="cb305-5" data-line-number="5"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(first_five) ) {</a>
<a class="sourceLine" id="cb305-6" data-line-number="6">  lengthz[i] &lt;-<span class="st"> </span><span class="kw">nchar</span>( <span class="kw">read.delim</span>(first_five[i],</a>
<a class="sourceLine" id="cb305-7" data-line-number="7">      <span class="dt">header=</span>F,<span class="dt">as.is=</span>T,<span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>)<span class="op">$</span>V3[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb305-8" data-line-number="8">    )</a>
<a class="sourceLine" id="cb305-9" data-line-number="9">}</a></code></pre></div>
<hr />
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb306-1" data-line-number="1"><span class="kw">hist</span>(lengthz,<span class="dt">breaks=</span><span class="dv">50</span>)</a></code></pre></div>
<p><img src="510-loops_files/figure-html/base_viz_protein_lengths_fix-1.png" width="672" /></p>
<hr />
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb307-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb307-2" data-line-number="2"><span class="kw">ggplot</span>( <span class="kw">data.frame</span>(<span class="dt">length=</span>lengthz) )<span class="op">+</span><span class="kw">theme_classic</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb307-3" data-line-number="3"><span class="st">  </span><span class="kw">aes</span>(<span class="dt">x=</span>length)<span class="op">+</span><span class="kw">geom_histogram</span>(<span class="dt">bins=</span><span class="dv">50</span>)</a></code></pre></div>
<p><img src="510-loops_files/figure-html/ggplot_viz_protein_lengths-1.png" width="672" /></p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb308-1" data-line-number="1"><span class="kw">summary</span>(lengthz)</a></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     1.0   231.5   646.0   729.2  1089.0  3390.0</code></pre>
<hr />
</div>
<div id="other-control-structures" class="section level4">
<h4><span class="header-section-number">4.1.2.2</span> Other control structures</h4>
<p>video2</p>
<ul>
<li>while</li>
<li>repeat</li>
</ul>

<hr />
</div>
</div>
</div>
<div id="writing-reusable-code" class="section level2">
<h2><span class="header-section-number">4.2</span> Writing (re)usable code</h2>
<!-- exercise -->
<p>Crack open your code - can you use it again?
Can you adapt it to modify your question, feed in new data,
and modify the scientifically-important bits easily?</p>
<p>Let’s look at two chunks of code from
<a href="https://github.com/sashaflevy/PPiSeq">a paper</a> (lightly edited).
The experiment is counting barcoded lineages of yeast cells to estimate
“PPIs” (protein-protein interactions)
<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>
here’s an example of one style of writing R script:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb310-1" data-line-number="1"><span class="co"># filter out bad barcode lineages ( &lt;= 2 time points counts &gt; 0, or maximum of each time point &lt;= 5 or total counts of a lineage &lt; 10)</span></a>
<a class="sourceLine" id="cb310-2" data-line-number="2">bad_index =<span class="st"> </span><span class="kw">rep</span>(<span class="dv">0</span>, <span class="kw">nrow</span>(DBC_known_counts))</a>
<a class="sourceLine" id="cb310-3" data-line-number="3"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(bad_index)){</a>
<a class="sourceLine" id="cb310-4" data-line-number="4">        counts =<span class="st"> </span><span class="kw">as.numeric</span>(DBC_known_counts[i, <span class="dv">4</span><span class="op">:</span><span class="dv">8</span>])</a>
<a class="sourceLine" id="cb310-5" data-line-number="5">        <span class="cf">if</span> (<span class="kw">length</span>(<span class="kw">which</span>(counts <span class="op">!=</span><span class="st"> </span><span class="dv">0</span>)) <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span><span class="kw">max</span>(counts) <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span> <span class="op">|</span><span class="st"> </span><span class="kw">sum</span>(counts) <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span>){</a>
<a class="sourceLine" id="cb310-6" data-line-number="6">                bad_index[i] =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb310-7" data-line-number="7">        }</a>
<a class="sourceLine" id="cb310-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb310-9" data-line-number="9"><span class="kw">length</span>(<span class="kw">which</span>(bad_index <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)) <span class="co"># 1447775</span></a></code></pre></div>
<!-- exercise -->
<ul>
<li>What is going on here?</li>
<li>How do you feed in new data?</li>
<li>How do you run this multiple times?</li>
<li>How do you change the logic?</li>
</ul>
<p>Here’s another example from the same author:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb311-1" data-line-number="1">H202_Output &lt;-<span class="st"> </span><span class="kw">PPI_calling_sigmoid</span>(</a>
<a class="sourceLine" id="cb311-2" data-line-number="2">    <span class="dt">PPI_multiple=</span><span class="kw">dataFrameReader_T</span>(<span class="st">&quot;/Volumes/zmliu_02/PPiseq_03/H2O2/counts/PPI_multiple_p.values.csv&quot;</span>),</a>
<a class="sourceLine" id="cb311-3" data-line-number="3">    <span class="dt">specific_PPV=</span><span class="kw">c</span>(<span class="kw">seq</span>(<span class="fl">0.5</span>,<span class="fl">0.58</span>,<span class="dt">by=</span><span class="fl">0.02</span>),<span class="kw">seq</span>(<span class="fl">0.6</span>,<span class="fl">0.8</span>,<span class="dt">by=</span><span class="fl">0.01</span>),<span class="kw">seq</span>(<span class="fl">0.82</span>,<span class="fl">0.9</span>,<span class="dt">by=</span><span class="fl">0.02</span>)),</a>
<a class="sourceLine" id="cb311-4" data-line-number="4">    <span class="dt">Fitness=</span><span class="kw">fitness</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="fl">0.01</span>),</a>
<a class="sourceLine" id="cb311-5" data-line-number="5">    <span class="dt">p_value=</span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">4</span>,<span class="dv">0</span>,<span class="fl">0.1</span>),</a>
<a class="sourceLine" id="cb311-6" data-line-number="6">    <span class="dt">Neg_number_PPI=</span><span class="fl">6e4</span>,</a>
<a class="sourceLine" id="cb311-7" data-line-number="7">    <span class="dt">Neg_ref_number=</span><span class="dv">50</span>, </a>
<a class="sourceLine" id="cb311-8" data-line-number="8">    <span class="dt">p_threshold=</span><span class="op">-</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb311-9" data-line-number="9">    <span class="dt">p_loc=</span><span class="dv">6</span>, </a>
<a class="sourceLine" id="cb311-10" data-line-number="10">)</a></code></pre></div>
<!-- exercise -->
<p>Same questions.</p>
<div id="style-guides-can-be-inspiring" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Style guides can be inspiring</h3>
<ul>
<li><a href="https://style.tidyverse.org/">tidyverse style guide</a></li>
<li><a href="https://google.github.io/styleguide/Rguide.html">google-specific changes</a></li>
<li><a href="https://jef.works/R-style-guide/">Jean Fan’s</a></li>
<li>search for “R style guide”</li>
</ul>
</div>
<div id="what-style-should-you-use" class="section level3">
<h3><span class="header-section-number">4.2.2</span> What style should you use?</h3>
<p>Be inconsistently consistent!
Balance for yourself:</p>
<ul>
<li>How easy is it to write?</li>
<li>How easy is it for you to read?</li>
<li>How easy is it for others to read?</li>
<li>How similar is it to what everyone else is doing (a very good thing)?</li>
</ul>
<p>But most importantly, use what folks around you are using.
Be lazy, imitate others.</p>
<!-- exercise -->
<ul>
<li>How would you describe your code writing style?</li>
<li>How do you name things?</li>
<li>How good are your comments?</li>
<li>What elements would you like to incorporate?</li>
</ul>

</div>
</div>
<div id="writing-modular-code" class="section level2">
<h2><span class="header-section-number">4.3</span> Writing modular code</h2>
<p>What is modularity of code?</p>
<p>Why?</p>
<p>think more clearly than “hardcoding” stuff</p>
<p>change things more easily without forgetting everything</p>
<p>lets you operate at a higher level, by tweaking parameters in one place</p>
<!-- Exercise -->
<div id="calculating-standard-error" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Calculating standard error</h3>
<p>Let’s calculate the standard error of a sample of values:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb312-1" data-line-number="1">values &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb312-2" data-line-number="2"><span class="kw">stderr</span>(values)</a></code></pre></div>
<pre><code>## Error in stderr(values): unused argument (values)</code></pre>
<p>Er … what? What is <code>stderr</code> doing?</p>
<p><code>?stderr</code></p>
<p>Write out the maths for the standard error of the mean</p>
<p>calcuate it</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb314-1" data-line-number="1"><span class="kw">sd</span>(values)<span class="op">/</span><span class="kw">sqrt</span>(<span class="kw">length</span>(values)<span class="op">-</span><span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] 0.4727122</code></pre>
<p>write a function that does it</p>
<p>what do we save it as?</p>
<p>test it</p>
</div>
<div id="more-complex-modules" class="section level3">
<h3><span class="header-section-number">4.3.2</span> More complex modules</h3>
<p>More examples/exercise</p>
<p>show a simulation of something…. genetic drift of a virus replicating?</p>
<p>lineage G1312F</p>
<p>exercise - wrap the entire analysis as a function</p>
<p>talk about ease of calling</p>
<p>gotcha about print() the plots</p>
<p>exercise - make a parameter and argument</p>
<p>ease of tweaking this</p>
<p>exercise - break into subfunctions, generate and plot</p>
<p>ease of changing models</p>
<p>Apply is a thing</p>
<p>Scholars will be familiar with that folks have strong opinions about using apply instead of for loops</p>
<p>Scholars will understand that getting the code done is the most important thing, but that good use of apply can be something to develop later to make code run faster, cleaner</p>
<p>Scholars will be able to read what an example of apply or s/lapply is doing, so that they can read examples online</p>
<p>Scholars will have heard the term “lambda function” ?</p>
<p>Scholars will understand that functions can be one-off (ie lambda, function(x){} ), and that’s okay</p>

</div>
</div>
<div id="packages-are-chunks-of-code-and-sometimes-data" class="section level2">
<h2><span class="header-section-number">4.4</span> Packages are chunks of code (and sometimes data)</h2>
<p>Let’s take a look at your code from the last few days. How would you share this with the other people in the course?</p>
<p>R, like other languages, is built on a package system - if you wrap up your code in particular expected ways and put it in particular expected places, it is very easy for others to get and use your code</p>
<p>side note link for interested students, easy of making pakcages (for advanced advanced)</p>
<div id="first-stop---cran" class="section level3">
<h3><span class="header-section-number">4.4.1</span> first stop - CRAN</h3>
<p><a href="">CRAN</a></p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb316-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;stringdist&quot;</span>)</a></code></pre></div>
<p>exercise - get the stringdist library, use it</p>
<p>exercise - get a new viz layer, use it</p>
</div>
<div id="how-does-this-package-work" class="section level3">
<h3><span class="header-section-number">4.4.2</span> How does this package work?</h3>
<p>?</p>
<p>??</p>
<p>etc</p>
</div>
<div id="next-stop---github" class="section level3">
<h3><span class="header-section-number">4.4.3</span> next stop - github</h3>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb317-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;devtools&quot;</span>)</a></code></pre></div>
<p>or <code>remotes</code>?</p>
<p>exercise - pull a package off github… ? maybe some sort of viz again?</p>
<p>Exercise - install a package from github and learn how to use it</p>
<ul>
<li><a href="https://github.com/ewenme/ghibli">Ghibli color palette</a></li>
<li><a href="https://github.com/rossdrucker/sportyR">Sports field plotting</a></li>
<li><a href="https://github.com/wilkelab/ggridges">Ridgeplots in ggplot2</a></li>
</ul>
<!-- remotes::install_github("wilkelab/ggridges" -->
<p>problems with this - security, eh</p>
</div>
<div id="finally---bioconductor" class="section level3">
<h3><span class="header-section-number">4.4.4</span> finally - Bioconductor 😬</h3>
<p><a href="">How to install Bioconductor</a></p>
<p>Scholars will know how to install Bioconductor package from CRAN</p>
<p>Scholars will know how to find and install packages from Bioconductor</p>
<p>explore the namespace for a package, ie ?packagename:: and TAB or ?packagename::</p>
<p>how to print out all the packages you have loaded</p>
</div>
</div>
<div id="finding-more-help-and-documentation" class="section level2">
<h2><span class="header-section-number">4.5</span> Finding more help and documentation</h2>
<p>Need a problem</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb318-1" data-line-number="1">?geom_line</a></code></pre></div>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb319-1" data-line-number="1">?stringdist</a></code></pre></div>
<p>Objective X.X: Scholars will know how to get official docs ( ? ) and how to skim/read these</p>
<p>Objective X.X: Scholars will see how easy it is to use a search engine to try and find other answers</p>
<p>Objective X.X: Scholars will understand the intention of the Slack being a learning community, or something (set expectations about this)</p>
<p>Source up problems from the class?</p>
<p>Demo a weird plot idea, search for how to do it on stack overflow?</p>
<p>Maybe how to change the color of facet labels in a ggplot facet graph, that’s a bit tricky and demonstrates why base R is important…</p>
</div>
<div id="reproducibility-and-sharing" class="section level2">
<h2><span class="header-section-number">4.6</span> Reproducibility and sharing</h2>
<p>think about this</p>
<p>think about the next person coming along, or yourself in 3 months</p>
<p>links on syllabus for more info</p>
<p>all sorts of automated stuff you can do</p>

</div>
<div id="reproducibile-sharing---more-rmarkdown-and" class="section level2">
<h2><span class="header-section-number">4.7</span> Reproducibile sharing - more <code>rmarkdown</code> and</h2>
<p>How are you saving your notes for this class?
<!-- rmd you better be... --></p>
<p>How do you usually save notes/code/instructions?</p>
<p>How do you share this with others?</p>
<div id="rmarkdown-package" class="section level3 tabset">
<h3><span class="header-section-number">4.7.1</span> rmarkdown package</h3>
<div id="background" class="section level4">
<h4><span class="header-section-number">4.7.1.1</span> Background</h4>
<p>The <code>rmarkdown</code> package was created by
<a href="https://www.rstudio.com/speakers/yihui-xie/">Yihui Xie</a>,
extending from previous work and ideas in
<code>knitr</code> and <code>sweave</code>.</p>
<p>It’s a way of mixing writing with code, such that
you can run the code and it makes a pretty doc
(and <a href="https://rmarkdown.rstudio.com/gallery.html">more</a>).</p>
<p>video1 overview
<!-- 
motivation / ie what it do
video1 background / broad context
yihui xie - grad student, wrote a bunch of packages, now works at Rstudio (pattern here…)
sweave -> knitr -> rmarkdown
how I’ve used it, how you could use it
--></p>
</div>
<div id="chunk-options" class="section level4">
<h4><span class="header-section-number">4.7.1.2</span> Chunk options</h4>
<p>You can set chunk-level options in an Rmd, for
each code chunk. Such as:</p>
<pre><code>```{r, name_of_chunk, cache=T, fig.width=3, fig.height=2, error=F, warning=F, fig.align=&quot;right&quot;}
x &lt;- 1:10
y &lt;- 1:10
plot(x,y)
```</code></pre>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb321-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb321-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb321-3" data-line-number="3"><span class="kw">plot</span>(x,y)</a></code></pre></div>
<p><img src="560-rmarkdown-and-repro_files/figure-html/name_of_chunk-1.png" width="288" style="display: block; margin: auto 0 auto auto;" /></p>
<p>It is possible to enable figure captions.</p>
<p>video2 chunk options
<!--
how to cache=T
how to hide warnings/errors
how to change figure sizes
fig.align=”right”
--></p>
</div>
<div id="document-options" class="section level4">
<h4><span class="header-section-number">4.7.1.3</span> Document options</h4>
<p>You can set document-level options to. To do this,
you create what’s called a
<a href="yaml.org">YAML</a> header, like so:</p>
<pre><code>---
title: &quot;Titled&quot;
author: &quot;yours&quot;
---</code></pre>
<p>You need three hyphens to open and close it.
Put it at the very beginning. You can define
quite a few options, including <em>themes</em>,
like so:</p>
<pre><code>---
title: &quot;Titled&quot;
author: &quot;yours&quot;

---</code></pre>
<p>video3 head options
<!--title
authors
date, Sys.date
format …. slides !
*** themes **** &&%
--></p>
</div>
<div id="how-it-works-sort-of" class="section level4">
<h4><span class="header-section-number">4.7.1.4</span> How it works, sort of…</h4>
<p>video4 how it does what it’s doing
<!--what it’s doing behind the scenes - a diagram ( on paper )
code gets pulled out and run, top to bottom
--></p>
<p><code>rmarkdown</code> parses an Rmd file to extract out
the R code. It runs this, using the chunk and
other options to control this, then makes outputs
from different chunks (text and plots).
It then sticks the text and images into a
<code>markdown</code> document, and uses a program called
<code>pandoc</code> (included inside Rstudio) to turn that
into HTML, PDF, and/or slides.</p>
</div>
</div>
<div id="section" class="section level3 unnumbered">
<h3></h3>
</div>
<div id="sharing-with-others" class="section level3">
<h3><span class="header-section-number">4.7.2</span> Sharing with others</h3>
<p>What does someone need to re-run your analyses?</p>
<!-- R, Rstudio, packages, scripts -->
<ul>
<li>R (often Rstudio)</li>
<li>what packages you’re using</li>
<li></li>
</ul>
<div class="sourceCode" id="cb324"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb324-1" data-line-number="1">devtools<span class="op">::</span><span class="kw">session_info</span>()</a></code></pre></div>
<pre><code>## Error in get(genname, envir = envir) : object &#39;testthat_print&#39; not found</code></pre>
<pre><code>## ─ Session info ───────────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 4.0.2 (2020-06-22)
##  os       macOS  10.16                
##  system   x86_64, darwin17.0          
##  ui       X11                         
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  ctype    en_US.UTF-8                 
##  tz       America/Los_Angeles         
##  date     2021-06-04                  
## 
## ─ Packages ───────────────────────────────────────────────────────────────────
##  package     * version    date       lib source                            
##  assertthat    0.2.1      2019-03-21 [2] CRAN (R 4.0.0)                    
##  bookdown      0.22       2021-04-22 [1] CRAN (R 4.0.2)                    
##  callr         3.7.0      2021-04-20 [1] CRAN (R 4.0.2)                    
##  cli           2.5.0      2021-04-26 [1] CRAN (R 4.0.2)                    
##  codetools     0.2-16     2018-12-24 [2] CRAN (R 4.0.2)                    
##  crayon        1.4.1      2021-02-08 [1] CRAN (R 4.0.2)                    
##  desc          1.2.0      2018-05-01 [2] CRAN (R 4.0.0)                    
##  devtools      2.3.2      2020-09-18 [1] CRAN (R 4.0.2)                    
##  digest        0.6.27     2020-10-24 [1] CRAN (R 4.0.2)                    
##  ellipsis      0.3.2      2021-04-29 [1] CRAN (R 4.0.2)                    
##  evaluate      0.14       2019-05-28 [2] CRAN (R 4.0.0)                    
##  fs            1.5.0      2020-07-31 [1] CRAN (R 4.0.2)                    
##  glue          1.4.2      2020-08-27 [1] CRAN (R 4.0.2)                    
##  htmltools     0.5.1.9000 2021-01-26 [1] Github (rstudio/htmltools@e7f0393)
##  knitr         1.30       2020-09-22 [1] CRAN (R 4.0.2)                    
##  lifecycle     1.0.0      2021-02-15 [1] CRAN (R 4.0.2)                    
##  magrittr      2.0.1      2020-11-17 [1] CRAN (R 4.0.2)                    
##  memoise       1.1.0      2017-04-21 [1] CRAN (R 4.0.2)                    
##  pkgbuild      1.1.0      2020-07-13 [1] CRAN (R 4.0.2)                    
##  pkgload       1.1.0      2020-05-29 [2] CRAN (R 4.0.0)                    
##  prettyunits   1.1.1      2020-01-24 [2] CRAN (R 4.0.0)                    
##  processx      3.5.2      2021-04-30 [1] CRAN (R 4.0.2)                    
##  ps            1.3.3      2020-05-08 [2] CRAN (R 4.0.0)                    
##  purrr         0.3.4      2020-04-17 [2] CRAN (R 4.0.0)                    
##  R6            2.5.0      2020-10-28 [1] CRAN (R 4.0.2)                    
##  remotes       2.2.0      2020-07-21 [1] CRAN (R 4.0.2)                    
##  rlang         0.4.10     2020-12-30 [1] CRAN (R 4.0.2)                    
##  rmarkdown     2.6        2020-12-14 [1] CRAN (R 4.0.2)                    
##  rprojroot     2.0.2      2020-11-15 [1] CRAN (R 4.0.2)                    
##  sessioninfo   1.1.1      2018-11-05 [1] CRAN (R 4.0.2)                    
##  stringi       1.5.3      2020-09-09 [1] CRAN (R 4.0.2)                    
##  stringr       1.4.0      2019-02-10 [2] CRAN (R 4.0.0)                    
##  testthat      2.3.2      2020-03-02 [2] CRAN (R 4.0.0)                    
##  usethis       2.0.0      2020-12-10 [1] CRAN (R 4.0.2)                    
##  withr         2.4.1      2021-01-26 [1] CRAN (R 4.0.2)                    
##  xfun          0.23       2021-05-15 [1] CRAN (R 4.0.2)                    
##  yaml          2.2.1      2020-02-01 [2] CRAN (R 4.0.0)                    
## 
## [1] /Users/melissako/Library/R/4.0/library
## [2] /Library/Frameworks/R.framework/Versions/4.0/Resources/library</code></pre>
<p>why the hell we want others to use our code?
Well I’ll tell you why - the general intellect</p>
<p>think about this</p>
<p>think about the next person coming along, or yourself in 3 months</p>
<p>links on syllabus for more info</p>
<p>all sorts of automated stuff you can do</p>

</div>
</div>
<div id="troubleshooting-getting-help-dissecting-problems" class="section level2">
<h2><span class="header-section-number">4.8</span> Troubleshooting, getting help, dissecting problems</h2>
<p>You will have problems.</p>
<p>How do you (1) get past these and (2) learn from them?</p>
<p>What kinds of errors did we encounter in this class?</p>
<p>How do we deal with these?</p>
<div id="places-to-look-for-help" class="section level3">
<h3><span class="header-section-number">4.8.1</span> Places to look for help</h3>
<ul>
<li>yourself - past notes, troubleshoot logically</li>
<li>the people around you, research mentors</li>
<li>Slack channel</li>
<li>github/gitlab “Issues” page - search first the closed issues!!!</li>
<li>StackOverflow - search first for similar problems!!!</li>
<li>twitter (for fun problems)</li>
</ul>
<p>It helps to have a…</p>
</div>
<div id="minimum-reproducible-example" class="section level3">
<h3><span class="header-section-number">4.8.2</span> Minimum reproducible example</h3>
<p>video1
<!--
show an error, simplify it by making MRE
--></p>
<p>If you can’t find an easy answer, it is important to begin to approach the
problem like you would a science problem.</p>
<p>Reduce the problem, eliminate extraneous variables.</p>
<p>Use or capture intermediate steps to identify where the issue is.</p>
<p>Collect <code>sessionInfo()</code> and share it with folks.</p>
<!-- maybe not....
### Exercise - debug one of the following Rmds
-->

</div>
</div>
<div id="conclusion-other-concepts" class="section level2">
<h2><span class="header-section-number">4.9</span> Conclusion, other concepts</h2>
<p>Today we covered:</p>
<ul>
<li>loops to repeat code</li>
<li>aspects of nice (re)usable code</li>
<li>writing code modularly with functions</li>
<li>finding and using packages</li>
<li>writing an Rmarkdown report</li>
<li>finding help and tackling a complex problem</li>
</ul>
<p>We hope you are better oriented and prepared to
repeat your analyses to build a complete story,
reproduce these larger analyses workflows,
extend from your work to do more complicated
workflows,
and share your analyses with others in a
well-organized but complete way.</p>
<p>You can extend on these ideas. Here’s a couple of
areas that might be useful:</p>
<dl>
<dt>Workflow / pipeline tools</dt>
<dd><p>These are automation tools to smartly run
different chunks of analyses. This is really
handy when parts of your workflow take a
long time, and you usually don’t want to be<br />
re-running those, but you do want it to be
able to run the whole thing automatically.</p>
<p>You can use old-school shell-like tools such
as “<a href="https://makefiletutorial.com/">Make/Makefiles</a>”,
newfangled but complex tools
like “Nextflow”
or “snakemake”,
or R-specific tooks like
“<a href="https://books.ropensci.org/targets/walkthrough.html">targets</a>”.</p>
</dd>
</dl>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>Ask Darach if you want details, or <a href="doi.org/10.7554/eLife.62365">read the paper</a><a href="day-5-building-workflows.html#fnref3" class="footnote-back">↩</a></p></li>
</ol>
</div>
<p style="margin-top:10em;text-align:center;font-size:small;">
    <a href="https://github.com/darachm/dll-r/blob/main/LICENSE.md">
        Licensed Creative Commons Attribution-NonCommercial-ShareAlike 4.0
    </a>
</p>
<p style="text-align:center;font-size:small;">
    <a href="https://github.com/rstudio/bookdown" target="blank">
        Website typeset with bookdown
    </a>
</p>

<script> 
// This is to look through, everything that's a floating lone double dash,
// delete it. This is left over for stuff that's trying to be pauses for
// the slides
var listz = document.getElementsByTagName("p");
for (var i=0; i < listz.length; i++) { 
    if (listz[i].innerText === "–") { listz[i].innerText = "" } 
} 
</script>
            </section>

          </div>
        </div>
      </div>
<a href="day-4-tidyverse-and-plots-and-such.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/darachm/dll-r/edit/main/500-day5-intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DLL 2021 R syllabus site.html"],
"toc": {
"collapse": "subsection"
},
"highlight": "zenburn"
});
});
</script>

</body>

</html>
